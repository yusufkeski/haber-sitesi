<div class="admin-wrapper d-flex">
  <div
    class="sidebar bg-dark text-white min-vh-100 d-flex flex-column"
    id="sidebar"
    style="
      width: 280px;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      overflow-y: auto;
      z-index: 1000;
    "
  >
    <div class="sidebar-brand text-center py-4 border-bottom border-secondary">
      <span class="text-primary fw-bold fs-3">N</span
      ><span class="text-white fw-bold fs-3">ERÄ°K</span>
      <small class="d-block text-white-50 mt-1" style="font-size: 0.75rem; letter-spacing: 2px"
        >YÃ–NETÄ°M PANELÄ°</small
      >
    </div>

    <nav class="mt-4 px-3 d-flex flex-column gap-2 flex-grow-1">
      <a
        (click)="switchTab('overview')"
        [class.active]="activeTab === 'overview'"
        [class.bg-primary]="activeTab === 'overview'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center"
        style="cursor: pointer; transition: 0.3s"
      >
        <i class="fas fa-chart-pie me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">Genel BakÄ±ÅŸ</span>
      </a>

      <div class="text-white-50 small fw-bold mt-3 mb-2 px-2">Ä°Ã‡ERÄ°K YÃ–NETÄ°MÄ°</div>

      <a
        *ngIf="checkPermission('news')"
        (click)="switchTab('news')"
        [class.active]="activeTab === 'news'"
        [class.bg-secondary]="activeTab === 'news'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-newspaper me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">Haberler</span>
      </a>

      <a
        *ngIf="checkPermission('slider')"
        (click)="switchTab('slider')"
        [class.active]="activeTab === 'slider'"
        [class.bg-warning]="activeTab === 'slider'"
        [class.text-dark]="activeTab === 'slider'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-images me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">ManÅŸet YÃ¶netimi</span>
      </a>

      <a
        *ngIf="checkPermission('breaking')"
        (click)="switchTab('breaking')"
        [class.active]="activeTab === 'breaking'"
        [class.bg-danger]="activeTab === 'breaking'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-bolt me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">Son Dakika</span>
      </a>

      <a
        *ngIf="checkPermission('columnists')"
        (click)="switchTab('columnists')"
        [class.active]="activeTab === 'columnists'"
        [class.bg-info]="activeTab === 'columnists'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-pen-nib me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">KÃ¶ÅŸe YazÄ±larÄ±</span>
      </a>

      <div class="text-white-50 small fw-bold mt-3 mb-2 px-2">SPOR YÃ–NETÄ°MÄ°</div>

      <a
        *ngIf="checkPermission('teams')"
        (click)="switchTab('teams')"
        [class.bg-info]="activeTab === 'teams'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-shield-alt me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">TakÄ±mlar</span>
      </a>

      <a
        *ngIf="checkPermission('standings')"
        (click)="switchTab('standings')"
        [class.bg-success]="activeTab === 'standings'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-table me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">Puan Durumu</span>
      </a>

      <div class="text-white-50 small fw-bold mt-3 mb-2 px-2">MEDYA & REKLAM</div>

      <a
        *ngIf="checkPermission('videos')"
        (click)="switchTab('videos')"
        [class.active]="activeTab === 'videos'"
        [class.bg-danger]="activeTab === 'videos'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fab fa-youtube me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">Video Galeri</span>
      </a>

      <a
        *ngIf="checkPermission('ads')"
        (click)="switchTab('ads')"
        [class.active]="activeTab === 'ads'"
        [class.bg-success]="activeTab === 'ads'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-ad me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">Reklamlar</span>
      </a>

      <div class="text-white-50 small fw-bold mt-3 mb-2 px-2">SÄ°STEM</div>

      <a
        *ngIf="checkPermission('personnel')"
        (click)="switchTab('personnel')"
        [class.active]="activeTab === 'personnel'"
        [class.bg-light]="activeTab === 'personnel'"
        [class.text-dark]="activeTab === 'personnel'"
        class="nav-link rounded p-3 text-white-50 hover-text-white d-flex align-items-center cursor-pointer"
      >
        <i class="fas fa-users-cog me-3 fa-lg" style="width: 25px"></i>
        <span class="fw-bold">Personel</span>
      </a>

      <div class="mt-auto mb-4">
        <hr class="border-secondary my-3" />
        <a
          routerLink="/"
          class="nav-link rounded p-3 text-info hover-text-white d-flex align-items-center cursor-pointer"
        >
          <i class="fas fa-external-link-alt me-3"></i> Siteyi GÃ¶r
        </a>
        <a
          (click)="onLogout()"
          class="nav-link rounded p-3 text-danger hover-text-white d-flex align-items-center cursor-pointer"
        >
          <i class="fas fa-sign-out-alt me-3"></i> Ã‡Ä±kÄ±ÅŸ Yap
        </a>
      </div>
    </nav>
  </div>

  <div class="main-content flex-grow-1 bg-light min-vh-100" style="margin-left: 280px">
    <div
      class="sticky-top bg-white shadow-sm p-4 d-flex justify-content-between align-items-center mb-4"
      style="z-index: 900"
    >
      <div>
        <h4 class="fw-bold text-dark mb-0 text-uppercase ls-1">
          {{ activeTab === 'overview' ? 'SÄ°TE Ã–ZETÄ°' : activeTab + ' YÃ–NETÄ°MÄ°' }}
        </h4>
        <small class="text-muted">HoÅŸ geldin, {{ currentUser?.full_name || 'Admin' }}</small>
      </div>
      <div class="d-flex align-items-center gap-3">
        <img
          *ngIf="currentUser?.image_path"
          [src]="baseUrl + currentUser.image_path"
          class="rounded-circle border"
          width="45"
          height="45"
          style="object-fit: cover"
        />
        <div
          *ngIf="!currentUser?.image_path"
          class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center fw-bold fs-5"
          style="width: 45px; height: 45px"
        >
          {{ currentUser?.full_name?.charAt(0) || 'A' }}
        </div>
      </div>
    </div>

    <div class="container-fluid px-4 pb-5">
      <div *ngIf="activeTab === 'overview'" class="fade-in">
        <div class="row g-4 mb-5" *ngIf="stats">
          <div class="col-md-4">
            <div class="card border-0 shadow-sm rounded-4 h-100 overflow-hidden">
              <div
                class="card-body p-4 d-flex align-items-center justify-content-between bg-white border-start border-5 border-primary"
              >
                <div>
                  <h6 class="text-muted text-uppercase fw-bold mb-1">Toplam Haber</h6>
                  <h2 class="fw-bold text-dark m-0">{{ stats.totalNews }}</h2>
                </div>
                <div
                  class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center"
                  style="width: 60px; height: 60px"
                >
                  <i class="fas fa-newspaper fa-2x"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card border-0 shadow-sm rounded-4 h-100 overflow-hidden">
              <div
                class="card-body p-4 d-flex align-items-center justify-content-between bg-white border-start border-5 border-success"
              >
                <div>
                  <h6 class="text-muted text-uppercase fw-bold mb-1">Toplam Okunma</h6>
                  <h2 class="fw-bold text-dark m-0">{{ stats.totalViews | number }}</h2>
                </div>
                <div
                  class="bg-success bg-opacity-10 text-success rounded-circle d-flex align-items-center justify-content-center"
                  style="width: 60px; height: 60px"
                >
                  <i class="fas fa-eye fa-2x"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card border-0 shadow-sm rounded-4 h-100 overflow-hidden">
              <div
                class="card-body p-4 d-flex align-items-center justify-content-between bg-white border-start border-5 border-warning"
              >
                <div>
                  <h6 class="text-muted text-uppercase fw-bold mb-1">KayÄ±tlÄ± Personel</h6>
                  <h2 class="fw-bold text-dark m-0">{{ stats.totalUsers }}</h2>
                </div>
                <div
                  class="bg-warning bg-opacity-10 text-warning rounded-circle d-flex align-items-center justify-content-center"
                  style="width: 60px; height: 60px"
                >
                  <i class="fas fa-users fa-2x"></i>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row g-4">
          <div class="col-md-6">
            <div class="card border-0 shadow-sm rounded-4 h-100">
              <div class="card-header bg-white py-3 border-bottom">
                <h6 class="fw-bold m-0 text-dark">
                  <i class="fas fa-chart-pie me-2 text-primary"></i> EditÃ¶r PerformansÄ± (Haber
                  SayÄ±sÄ±)
                </h6>
              </div>
              <div class="card-body d-flex align-items-center justify-content-center">
                <canvas baseChart [data]="pieChartData" [options]="pieChartOptions" [type]="'pie'">
                </canvas>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="card border-0 shadow-sm rounded-4 h-100">
              <div class="card-header bg-white py-3 border-bottom">
                <h6 class="fw-bold m-0 text-dark">
                  <i class="fas fa-chart-bar me-2 text-success"></i> En Ã‡ok Okunan 5 Haber
                </h6>
              </div>
              <div class="card-body">
                <canvas baseChart [data]="barChartData" [options]="barChartOptions" [type]="'bar'">
                </canvas>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-4">
          <div class="col-12">
            <div class="card border-0 shadow-sm rounded-4">
              <div class="card-header bg-white py-3 border-bottom d-flex align-items-center">
                <h6 class="fw-bold m-0 text-dark">
                  <i class="fas fa-calendar-week me-2 text-primary"></i> Son 7 GÃ¼nde Eklenen
                  Haberlerin PerformansÄ±
                </h6>
              </div>
              <div class="card-body p-4">
                <div style="height: 350px; width: 100%">
                  <canvas
                    baseChart
                    [data]="recentNewsData"
                    [options]="recentNewsOptions"
                    [type]="'bar'"
                  >
                  </canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="activeTab === 'news'" class="fade-in">
        <div class="mb-4" *ngIf="!showForm">
          <button
            class="btn btn-primary px-4 py-3 fw-bold shadow hover-scale rounded-pill"
            (click)="showForm = true"
          >
            <i class="fas fa-plus-circle me-2"></i> Yeni Haber Ekle
          </button>
        </div>

        <div class="card border-0 shadow p-4 mb-5 rounded-4 bg-white fade-in" *ngIf="showForm">
  <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
    <h5 class="fw-bold mb-0 text-primary">
      {{ isEditing ? 'Haberi DÃ¼zenle' : 'Yeni Haber' }}
    </h5>
    <button class="btn-close" (click)="resetForm()"></button>
  </div>

  <div class="row g-4">
    <!-- SOL TARAF -->
    <div class="col-lg-8">
      <div class="mb-4">
        <label class="form-label fw-bold small text-secondary">BAÅžLIK</label>
        <input type="text" [(ngModel)]="newsData.title" class="form-control form-control-lg fw-bold" />
      </div>

      <div class="mb-3">
        <label class="form-label fw-bold small text-secondary">Ä°Ã‡ERÄ°K</label>
        <div class="bg-white border rounded-3 overflow-hidden">
          <quill-editor [(ngModel)]="newsData.content" [styles]="{ height: '350px' }"></quill-editor>
        </div>
      </div>
    </div>

    <!-- SAÄž TARAF -->
    <div class="col-lg-4">
      <div class="card bg-light border-0 p-4 rounded-4 h-100">

        <!-- KATEGORÄ° -->
        <div class="mb-4">
          <label class="form-label fw-bold small text-secondary">KATEGORÄ°</label>
          <select [(ngModel)]="newsData.category_id" class="form-select form-select-lg">
            <option [value]="1">GÃœNDEM</option>
            <option [value]="2">EKONOMÄ°</option>
            <option [value]="3">SPOR</option>
            <option [value]="4">TEKNOLOJÄ°</option>
          </select>
        </div>

        <!-- KAPAK GÃ–RSEL -->
        <div class="mb-4">
          <label class="form-label fw-bold small text-secondary">KAPAK GÃ–RSELÄ°</label>
          <input type="file" #fileInput (change)="onFileSelected($event)" class="d-none" accept="image/*" />

          <div class="image-upload-box bg-white border border-2 border-dashed rounded-4 p-4 text-center cursor-pointer"
               (click)="fileInput.click()">

            <div *ngIf="!selectedFile && !newsData.image">
              <i class="fas fa-cloud-upload-alt fa-3x text-primary mb-3"></i>
              <h6>Kapak Resmi SeÃ§</h6>
            </div>

            <div [class.d-none]="!selectedFile && !newsData.image">
              <img #imageElement class="img-fluid rounded" />
            </div>
          </div>
        </div>

        <!-- ðŸ”¥ GALERÄ° ALANI -->
        <div class="mb-3">
          <label class="form-label fw-bold">Haber Galerisi (Ã‡oklu Foto)</label>
          <input type="file" class="form-control" multiple accept="image/*" (change)="onGallerySelect($event)" />
        </div>

        <!-- SeÃ§ilen Galeri Ã–nizleme -->
        <div class="row g-2 mb-3" *ngIf="galleryPreview?.length">
          <div class="col-4" *ngFor="let img of galleryPreview">
            <img [src]="img" class="img-fluid rounded shadow-sm border" />
          </div>
        </div>

        <!-- BUTONLAR -->
        <div class="d-grid gap-2 mt-auto">
          <button (click)="saveNews()" class="btn btn-primary fw-bold py-3">
            {{ isEditing ? 'GÃœNCELLE' : 'YAYINLA' }}
          </button>
          <button (click)="resetForm()" class="btn btn-outline-secondary">VAZGEÃ‡</button>
        </div>

      </div>
    </div>
  </div>
</div>


        <div class="card border-0 shadow rounded-4 overflow-hidden" *ngIf="!showForm">
          <table class="table table-hover align-middle mb-0">
            <thead class="bg-light text-muted small text-uppercase">
              <tr>
                <th class="ps-4 py-3">GÃ¶rsel</th>
                <th>BaÅŸlÄ±k</th>
                <th>Kategori</th>
                <th class="text-end pe-4">Ä°ÅŸlemler</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let news of newsList">
                <td class="ps-4">
                  <img
                    *ngIf="news.image_path"
                    [src]="baseUrl + news.image_path"
                    class="rounded shadow-sm"
                    width="60"
                  />
                </td>
                <td class="fw-bold">{{ news.title }}</td>
                <td>
                  <span class="badge bg-primary-subtle text-primary">{{ news.category_name }}</span>
                </td>
                <td class="text-end pe-4">
                  <button
                    (click)="editItem(news, 'news')"
                    class="btn btn-sm btn-light text-warning me-2"
                  >
                    <i class="fas fa-edit"></i></button
                  ><button
                    (click)="deleteItem(news.id, 'news')"
                    class="btn btn-sm btn-light text-danger"
                  >
                    <i class="fas fa-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div *ngIf="activeTab === 'slider'" class="fade-in">
        <div class="row g-4">
          <div class="col-md-6">
            <div class="card border-0 shadow h-100">
              <div class="card-header bg-warning text-dark py-3">
                <h6 class="fw-bold m-0"><i class="fas fa-star me-2"></i> YAYINDAKÄ° MANÅžETLER</h6>
              </div>
              <div class="card-body p-0 overflow-auto" style="max-height: 600px">
                <table class="table table-hover align-middle mb-0">
                  <tr *ngFor="let news of activeSliderNews">
                    <td class="ps-3">
                      <img [src]="baseUrl + news.image_path" width="60" class="rounded" />
                    </td>
                    <td class="small fw-bold">{{ news.title }}</td>
                    <td class="text-end pe-3">
                      <button
                        class="btn btn-outline-danger btn-sm rounded-circle"
                        (click)="toggleStatus(news, 'is_slider')"
                      >
                        <i class="fas fa-times"></i>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card border-0 shadow h-100">
              <div class="card-header bg-light py-3">
                <h6 class="fw-bold m-0 text-secondary">
                  <i class="fas fa-list me-2"></i> HAVUZ (ADAYLAR)
                </h6>
              </div>
              <div class="card-body p-0 overflow-auto" style="max-height: 600px">
                <table class="table table-hover align-middle mb-0">
                  <tr *ngFor="let news of candidateNews">
                    <td class="ps-3">
                      <img
                        [src]="baseUrl + news.image_path"
                        width="60"
                        class="rounded opacity-75"
                      />
                    </td>
                    <td class="small text-muted">{{ news.title }}</td>
                    <td class="text-end pe-3">
                      <button
                        class="btn btn-success btn-sm rounded-circle"
                        (click)="toggleStatus(news, 'is_slider')"
                      >
                        <i class="fas fa-plus"></i>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="activeTab === 'breaking'" class="fade-in">
        <div class="row g-4">
          <div class="col-md-6">
            <div class="card border-0 shadow h-100">
              <div class="card-header bg-danger text-white py-3">
                <h6 class="fw-bold m-0"><i class="fas fa-bolt me-2"></i> AKTÄ°F SON DAKÄ°KALAR</h6>
              </div>
              <div class="card-body p-0 overflow-auto" style="max-height: 600px">
                <table class="table table-hover align-middle mb-0">
                  <tr *ngFor="let news of activeBreakingNews">
                    <td class="ps-4 small fw-bold">{{ news.title }}</td>
                    <td class="text-end pe-4">
                      <button
                        class="btn btn-outline-danger btn-sm rounded-circle"
                        (click)="toggleStatus(news, 'is_breaking')"
                      >
                        <i class="fas fa-times"></i>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card border-0 shadow h-100">
              <div class="card-header bg-light py-3">
                <h6 class="fw-bold m-0 text-secondary">
                  <i class="fas fa-list me-2"></i> HAVUZ (ADAYLAR)
                </h6>
              </div>
              <div class="card-body p-0 overflow-auto" style="max-height: 600px">
                <table class="table table-hover align-middle mb-0">
                  <tr *ngFor="let news of candidateNews">
                    <td class="ps-4 small text-muted">{{ news.title }}</td>
                    <td class="text-end pe-4">
                      <button
                        class="btn btn-outline-danger btn-sm rounded-circle"
                        (click)="toggleStatus(news, 'is_breaking')"
                      >
                        <i class="fas fa-plus"></i>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="activeTab === 'columnists'" class="fade-in">
        <div class="mb-4" *ngIf="!showForm">
          <button
            class="btn btn-info text-white px-4 py-3 fw-bold shadow hover-scale rounded-pill"
            (click)="showForm = true"
          >
            <i class="fas fa-plus-circle me-2"></i> YENÄ° YAZI YAZ
          </button>
        </div>
        <div *ngIf="showForm" class="card border-0 shadow p-4 mb-4 rounded-4 bg-white fade-in">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="fw-bold text-info">
              <img
                *ngIf="currentUser.image_path"
                [src]="baseUrl + currentUser.image_path"
                class="rounded-circle me-2"
                width="30"
              />
              {{ currentUser.full_name }} Olarak YazÄ±yorsunuz
            </h5>
            <button class="btn-close" (click)="resetForm()"></button>
          </div>
          <div class="row g-3">
            <div class="col-12">
              <label class="fw-bold small text-muted">BAÅžLIK</label
              ><input [(ngModel)]="postData.title" class="form-control form-control-lg fw-bold" />
            </div>
            <div class="col-12">
              <label class="fw-bold small text-muted">Ä°Ã‡ERÄ°K</label>
              <div class="bg-white border rounded overflow-hidden">
                <quill-editor
                  [(ngModel)]="postData.content"
                  [styles]="{ height: '400px' }"
                ></quill-editor>
              </div>
            </div>
            <div class="col-12 text-end">
              <button
                (click)="saveColumnPost()"
                class="btn btn-info text-white btn-lg fw-bold px-5"
              >
                YAYINLA
              </button>
            </div>
          </div>
        </div>
        <div class="card border-0 shadow rounded-4 overflow-hidden mt-4" *ngIf="!showForm">
          <table class="table table-hover align-middle mb-0">
            <thead class="bg-light text-muted small">
              <tr>
                <th class="ps-4">YAZAR</th>
                <th>BAÅžLIK</th>
                <th>TARÄ°H</th>
                <th class="text-end pe-4">Ä°ÅžLEM</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let post of columnPostList">
                <td class="ps-4">
                  <span class="fw-bold text-dark">{{ post.author_name }}</span>
                </td>
                <td class="fw-bold text-secondary">{{ post.title }}</td>
                <td class="small text-muted">{{ post.created_at | date: 'dd.MM.yyyy' }}</td>
                <td class="text-end pe-4">
                  <button
                    (click)="deleteColumnPost(post.id)"
                    class="btn btn-sm btn-light text-danger"
                  >
                    <i class="fas fa-trash"></i> Sil
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div *ngIf="activeTab === 'personnel'" class="fade-in">
        <div class="mb-4" *ngIf="!showForm">
          <button
            class="btn btn-dark text-white px-4 py-3 fw-bold shadow rounded-pill"
            (click)="showForm = true"
          >
            <i class="fas fa-user-plus me-2"></i> YENÄ° PERSONEL EKLE
          </button>
        </div>
        <div *ngIf="showForm" class="card border-0 shadow p-4 mb-4 rounded-4 bg-white fade-in">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="fw-bold text-dark">
              {{ isEditing ? 'Personeli DÃ¼zenle' : 'Yeni Personel' }}
            </h5>
            <button class="btn-close" (click)="resetForm()"></button>
          </div>
          <div class="row g-3">
            <div class="col-md-6">
              <label class="small fw-bold text-muted">KullanÄ±cÄ± AdÄ±</label
              ><input [(ngModel)]="userData.username" class="form-control" />
            </div>
            <div class="col-md-6">
              <label class="small fw-bold text-muted">Åžifre</label
              ><input [(ngModel)]="userData.password" type="password" class="form-control" />
            </div>
            <div class="col-md-6">
              <label class="small fw-bold text-muted">Ad Soyad</label
              ><input [(ngModel)]="userData.full_name" class="form-control" />
            </div>
            <div class="col-md-6">
              <label class="small fw-bold text-muted">Yetki</label
              ><select [(ngModel)]="userData.role" class="form-select">
                <option value="author">Yazar</option>
                <option value="editor">EditÃ¶r</option>
                <option value="admin">YÃ¶netici</option>
              </select>
            </div>
            <div class="col-12">
              <label class="small fw-bold text-muted">Resim</label
              ><input type="file" (change)="onFileSelected($event)" class="form-control" />
            </div>
            <div class="col-12 text-end">
              <button (click)="saveUser()" class="btn btn-dark fw-bold px-5">
                {{ isEditing ? 'GÃœNCELLE' : 'KAYDET' }}
              </button>
            </div>
          </div>
        </div>
        <div class="card border-0 shadow rounded-4 overflow-hidden" *ngIf="!showForm">
          <table class="table table-hover align-middle mb-0">
            <thead class="bg-light text-muted small">
              <tr>
                <th>Personel</th>
                <th>KullanÄ±cÄ± AdÄ±</th>
                <th>Yetki</th>
                <th class="text-end pe-4">Ä°ÅŸlem</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of userList">
                <td class="ps-4">
                  <span class="fw-bold">{{ user.full_name }}</span>
                </td>
                <td>{{ user.username }}</td>
                <td>{{ user.role | uppercase }}</td>
                <td class="text-end pe-4">
                  <button (click)="editUser(user)" class="btn btn-sm btn-light text-primary me-2">
                    <i class="fas fa-edit"></i></button
                  ><button (click)="deleteUser(user.id)" class="btn btn-sm btn-light text-danger">
                    <i class="fas fa-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div *ngIf="activeTab === 'videos'" class="fade-in">
        <div class="card p-4 mb-4 border-0 shadow-sm">
          <div class="row g-2">
            <div class="col-md-5">
              <input
                [(ngModel)]="videoData.title"
                class="form-control"
                placeholder="Video BaÅŸlÄ±ÄŸÄ±"
              />
            </div>
            <div class="col-md-5">
              <input [(ngModel)]="videoData.url" class="form-control" placeholder="YouTube Linki" />
            </div>
            <div class="col-md-2">
              <button (click)="saveVideo()" class="btn btn-danger w-100">Ekle</button>
            </div>
          </div>
        </div>
        <div class="row g-3">
          <div *ngFor="let v of videoList" class="col-md-4">
            <div class="card h-100 shadow-sm border-0">
              <iframe
                [src]="sanitizer.bypassSecurityTrustResourceUrl(v.url)"
                height="200"
                frameborder="0"
                allowfullscreen
              ></iframe>
              <div class="card-body d-flex justify-content-between">
                <span class="small fw-bold">{{ v.title }}</span
                ><button (click)="deleteItem(v.id, 'videos')" class="btn btn-sm btn-danger">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="activeTab === 'ads'" class="fade-in">
        <div class="card p-4 mb-4 border-0 shadow-sm">
          <div class="row g-2">
            <div class="col-md-3">
              <input [(ngModel)]="adData.title" class="form-control" placeholder="Reklam AdÄ±" />
            </div>
            <div class="col-md-3">
              <input [(ngModel)]="adData.target_url" class="form-control" placeholder="URL" />
            </div>
            <div class="col-md-2">
              <select [(ngModel)]="adData.area" class="form-select">
                <option value="sidebar">Sidebar</option>
                <option value="header">Header</option>
              </select>
            </div>
            <div class="col-md-2"><input type="file" id="adFile" class="form-control" /></div>
            <div class="col-md-2">
              <button (click)="saveAd()" class="btn btn-success w-100">Ekle</button>
            </div>
          </div>
        </div>
        <div class="row g-3">
          <div *ngFor="let ad of adList" class="col-md-3">
            <div class="card h-100">
              <img
                [src]="baseUrl + ad.image_path"
                class="card-img-top"
                style="height: 100px; object-fit: contain"
              />
              <div class="card-body">
                <p class="small fw-bold m-0">{{ ad.title }}</p>
                <button (click)="deleteItem(ad.id, 'ads')" class="btn btn-sm btn-danger float-end">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="activeTab === 'teams'" class="fade-in">
      <div class="row g-4">
        <div class="col-md-5">
          <div class="card border-0 shadow rounded-4 p-4">
            <h5 class="fw-bold mb-4 text-primary">Yeni TakÄ±m Ekle</h5>
            <div class="mb-3">
              <label class="form-label fw-bold small">TAKIM ADI</label>
              <input
                type="text"
                [(ngModel)]="teamData.name"
                class="form-control"
                placeholder="Ã–rn: VezirkÃ¶prÃ¼spor"
              />
            </div>
            <div class="mb-4">
              <label class="form-label fw-bold small">LOGO (1:1 KÄ±rpÄ±lÄ±r)</label>
              <input
                type="file"
                #teamFileInput
                (change)="onFileSelected($event)"
                class="d-none"
                accept="image/*"
              />
              <div
                class="image-upload-box bg-light border border-2 border-dashed rounded-4 p-4 text-center cursor-pointer"
                (click)="teamFileInput.click()"
              >
                <div *ngIf="!selectedFile">
                  <i class="fas fa-upload fa-2x text-muted mb-2"></i>
                  <h6>Logo SeÃ§</h6>
                </div>
                <div [class.d-none]="!selectedFile">
                  <img
                    #imageElement
                    class="img-fluid rounded shadow-sm"
                    style="max-height: 200px"
                  />
                </div>
              </div>
            </div>
            <button (click)="saveTeam()" class="btn btn-primary w-100 fw-bold py-3">
              TAKIMI KAYDET
            </button>
          </div>
        </div>
        <div class="col-md-7">
          <div class="card border-0 shadow rounded-4 overflow-hidden">
            <table class="table table-hover align-middle mb-0">
              <thead class="bg-dark text-white">
                <tr>
                  <th class="ps-4 py-3">Logo</th>
                  <th>TakÄ±m AdÄ±</th>
                  <th class="text-end pe-4">Ä°ÅŸlem</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let team of teamList">
                  <td class="ps-4">
                    <img
                      [src]="baseUrl + team.logo_path"
                      class="rounded-circle border"
                      width="40"
                      height="40"
                      style="object-fit: cover"
                    />
                  </td>
                  <td class="fw-bold">{{ team.name }}</td>
                  <td class="text-end pe-4">
                    <button (click)="deleteTeam(team.id)" class="btn btn-sm btn-outline-danger">
                      <i class="fas fa-trash"></i> Sil
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="activeTab === 'standings'" class="fade-in">
      <div
        class="card border-0 shadow rounded-4 p-4 mb-4 bg-white d-flex flex-row justify-content-between align-items-center"
      >
        <div>
          <h5 class="fw-bold mb-1 text-success">Lig Puan Tablosu</h5>
          <p class="text-muted small mb-0">RakamlarÄ± girip "TÃ¼mÃ¼nÃ¼ Kaydet" butonuna basÄ±nÄ±z.</p>
        </div>
        <div class="form-check form-switch fs-4">
          <input
            class="form-check-input"
            type="checkbox"
            [(ngModel)]="standingsVisible"
            (change)="toggleStandings()"
          />
          <label class="form-check-label fs-6 fw-bold ms-2">{{
            standingsVisible ? 'Sitede YayÄ±nda' : 'Sitede Gizli'
          }}</label>
        </div>
      </div>

      <div class="card border-0 shadow rounded-4 overflow-hidden bg-white">
        <div
          class="card-header bg-dark text-white d-flex justify-content-between align-items-center py-3"
        >
          <h6 class="m-0 fw-bold">Puan GiriÅŸ EkranÄ±</h6>
          <button (click)="saveStandings()" class="btn btn-success btn-sm px-4 fw-bold shadow-sm">
            TÃœMÃœNÃœ KAYDET
          </button>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered align-middle mb-0 text-center">
            <thead class="table-light small fw-bold">
              <tr>
                <th class="text-start ps-3">TAKIM</th>
                <th>O</th>
                <th>G</th>
                <th>B</th>
                <th>M</th>
                <th>AG</th>
                <th>YG</th>
                <th class="bg-primary text-white">PUAN</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let st of standingsList">
                <td class="text-start ps-3 fw-bold">{{ st.team_name }}</td>
                <td>
                  <input
                    type="number"
                    [(ngModel)]="st.played"
                    class="form-control form-control-sm text-center"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    [(ngModel)]="st.won"
                    class="form-control form-control-sm text-center"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    [(ngModel)]="st.drawn"
                    class="form-control form-control-sm text-center"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    [(ngModel)]="st.lost"
                    class="form-control form-control-sm text-center"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    [(ngModel)]="st.goals_for"
                    class="form-control form-control-sm text-center text-success"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    [(ngModel)]="st.goals_against"
                    class="form-control form-control-sm text-center text-danger"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    [(ngModel)]="st.points"
                    class="form-control form-control-sm text-center fw-bold bg-primary-subtle"
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
