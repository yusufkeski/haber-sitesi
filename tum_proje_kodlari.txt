
============================================================
DOSYA YOLU: .gitignore
============================================================
node_modules/
.env
dist/
.angular/
.vscode/

============================================================
DOSYA YOLU: backend\.env
============================================================
# backend/.env dosyasÄ±nÄ±n iÃ§i
DB_HOST=localhost
DB_USER=root
DB_PASS=
DB_NAME=nerik_db
PORT=3000
JWT_SECRET=yusufkeskibursalicipasifaraniyor

============================================================
DOSYA YOLU: backend\createAdmin.js
============================================================
// backend/createAdmin.js
const db = require('./db'); // VeritabanÄ± baÄŸlantÄ±mÄ±z
const bcrypt = require('bcryptjs'); // Åžifreleme aracÄ±mÄ±z

async function createAdmin() {
    const username = 'admin';
    const password = '123123'; // Osman Bey'in ilk ÅŸifresi (Sonra deÄŸiÅŸtirir)
    const fullName = 'Osman Bey';

    try {
        // 1. Åžifreyi Hashle (Kriptola)
        const salt = await bcrypt.genSalt(10);
        const hashedPassword = await bcrypt.hash(password, salt);

        // 2. VeritabanÄ±na Ekle
        // role: 'admin' ve permissions: tÃ¼m yetkiler aÃ§Ä±k
        const sql = `INSERT INTO users (username, password_hash, full_name, role, permissions) VALUES (?, ?, ?, ?, ?)`;
        
        await db.query(sql, [
            username, 
            hashedPassword, 
            fullName, 
            'admin', 
            JSON.stringify({ all: true }) // TÃ¼m yetkiler onda
        ]);

        console.log('âœ… SÃ¼per Admin baÅŸarÄ±yla oluÅŸturuldu!');
        console.log(`ðŸ‘¤ KullanÄ±cÄ± AdÄ±: ${username}`);
        console.log(`ðŸ”‘ Åžifre: ${password}`);
        process.exit(); // Ä°ÅŸ bitince Ã§Ä±k

    } catch (error) {
        if (error.code === 'ER_DUP_ENTRY') {
            console.log('âš ï¸ Bu kullanÄ±cÄ± zaten var!');
        } else {
            console.error('âŒ Hata oluÅŸtu:', error);
        }
        process.exit(1);
    }
}

createAdmin();

============================================================
DOSYA YOLU: backend\db.js
============================================================
// backend/db.js
const mysql = require('mysql2');
require('dotenv').config();

// BaÄŸlantÄ± havuzu oluÅŸturuyoruz
const pool = mysql.createPool({
    host: process.env.DB_HOST,
    user: process.env.DB_USER,
    password: process.env.DB_PASS,
    database: process.env.DB_NAME,
    waitForConnections: true,
    connectionLimit: 10,
    queueLimit: 0
});

// BaÄŸlantÄ±yÄ± test edelim (Sadece sunucu aÃ§Ä±lÄ±rken 1 kere dener)
pool.getConnection((err, connection) => {
    if (err) {
        console.error('âŒ VeritabanÄ± HatasÄ±:', err.message);
    } else {
        console.log('âœ… MySQL BaÄŸlantÄ±sÄ± BaÅŸarÄ±lÄ±!');
        connection.release();
    }
});

module.exports = pool.promise();

============================================================
DOSYA YOLU: backend\package.json
============================================================
{
  "name": "backend",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "type": "commonjs",
  "dependencies": {
    "bcryptjs": "^3.0.3",
    "body-parser": "^2.2.2",
    "cors": "^2.8.6",
    "dotenv": "^17.2.4",
    "express": "^5.2.1",
    "helmet": "^8.1.0",
    "jsonwebtoken": "^9.0.3",
    "morgan": "^1.10.1",
    "multer": "^2.0.2",
    "mysql2": "^3.16.3",
    "slugify": "^1.6.6"
  },
  "devDependencies": {
    "nodemon": "^3.1.11"
  }
}


============================================================
DOSYA YOLU: backend\server.js
============================================================
const express = require('express');
const cors = require('cors');
const path = require('path');
const videoController = require('./controllers/videoController');

// RotalarÄ± iÃ§e aktar (Senin orijinal dosyalarÄ±n)
const authRoutes = require('./routes/authRoutes');
const newsRoutes = require('./routes/newsRoutes');

const app = express();
const PORT = 3000;

// 1. AYARLAR VE Ä°ZÄ°NLER
app.use(cors());
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

app.get('/api/videos', videoController.getAllVideos);
app.post('/api/videos', videoController.addVideo); // (Auth eklenebilir)
app.delete('/api/videos/:id', videoController.deleteVideo);

// Resim klasÃ¶rÃ¼nÃ¼ dÄ±ÅŸarÄ± aÃ§
app.use('/uploads', express.static(path.join(__dirname, 'public/uploads'))); // DÄ°KKAT: 'public/uploads' deÄŸil, direkt 'uploads' olabilir. Kontrol et.
// NOT: Senin 'newsRoutes.js' dosyan resimleri 'public/uploads/' klasÃ¶rÃ¼ne kaydediyor. 
// O yÃ¼zden statik klasÃ¶r yolunu da ona gÃ¶re ayarlamalÄ±yÄ±z:
app.use('/public/uploads', express.static(path.join(__dirname, 'public/uploads')));


// 2. ROTALARI TANIMLA
app.use('/api/auth', authRoutes); // Login ve Register iÅŸlemleri burada
app.use('/api/news', newsRoutes); // Haber ekleme/silme iÅŸlemleri burada

// Sunucuyu BaÅŸlat
app.listen(PORT, () => {
    console.log(`ðŸš€ Profesyonel Sunucu Aktif: http://localhost:${PORT}`);
});

============================================================
DOSYA YOLU: backend\controllers\authController.js
============================================================
// backend/controllers/authController.js
const db = require('../db');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');

exports.register = async (req, res) => {
    const { username, password, full_name } = req.body;

    // 1. KullanÄ±cÄ± var mÄ± kontrol et
    const [existingUser] = await db.query('SELECT * FROM users WHERE username = ?', [username]);
    if (existingUser.length > 0) {
        return res.status(400).json({ message: 'Bu kullanÄ±cÄ± adÄ± zaten alÄ±nmÄ±ÅŸ.' });
    }

    // 2. Åžifreyi ÅŸifrele (Hash)
    const salt = await bcrypt.genSalt(10);
    const hashedPassword = await bcrypt.hash(password, salt);

    // 3. VeritabanÄ±na kaydet
    // VarsayÄ±lan rol 'author' (yazar) olarak atanÄ±r
    const sql = 'INSERT INTO users (username, password_hash, full_name, role) VALUES (?, ?, ?, ?)';
    await db.query(sql, [username, hashedPassword, full_name, 'author']);

    res.status(201).json({ message: 'KullanÄ±cÄ± baÅŸarÄ±yla oluÅŸturuldu.' });
};

exports.login = async (req, res) => {
    const { username, password } = req.body;

    // 1. KullanÄ±cÄ±yÄ± bul
    const [users] = await db.query('SELECT * FROM users WHERE username = ?', [username]);
    if (users.length === 0) {
        return res.status(400).json({ message: 'KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±.' });
    }

    const user = users[0];

    // 2. Åžifreyi kontrol et (Hash kÄ±yaslama)
    const isMatch = await bcrypt.compare(password, user.password_hash);
    if (!isMatch) {
        return res.status(400).json({ message: 'KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±.' });
    }

    // 3. Token oluÅŸtur (Dijital Kimlik)
    const token = jwt.sign(
        { id: user.id, role: user.role, username: user.username },
        process.env.JWT_SECRET,
        { expiresIn: '1d' } // Token 1 gÃ¼n geÃ§erli
    );

    res.json({
        message: 'GiriÅŸ baÅŸarÄ±lÄ±',
        token,
        user: {
            id: user.id,
            username: user.username,
            full_name: user.full_name,
            role: user.role
        }
    });
};

============================================================
DOSYA YOLU: backend\controllers\newsController.js
============================================================
const db = require('../db');
const slugify = require('slugify');
const fs = require('fs');

// 1. TÃœM HABERLERÄ° GETÄ°R
// 1. TÃœM HABERLERÄ° GETÄ°R (Filtreli)
exports.getAllNews = async (req, res) => {
    const page = parseInt(req.query.page) || 1;
    const limit = parseInt(req.query.limit) || 20; // Limit arttÄ±rdÄ±k
    const offset = (page - 1) * limit;
    const type = req.query.type; // 'slider' veya 'breaking' gelebilir

    try {
        // Filtre MantÄ±ÄŸÄ±
        let whereClause = 'WHERE n.status = "published"';
        if (type === 'slider') whereClause += ' AND n.is_slider = 1';
        if (type === 'breaking') whereClause += ' AND n.is_breaking = 1';

        // Toplam SayÄ±
        const [countResult] = await db.query(`SELECT COUNT(*) as total FROM news n ${whereClause}`);
        const totalItems = countResult[0].total;

        // Veriyi Ã‡ek
        const sql = `
            SELECT n.*, c.name as category_name, u.full_name as author_name 
            FROM news n 
            LEFT JOIN categories c ON n.category_id = c.id
            LEFT JOIN users u ON n.author_id = u.id
            ${whereClause}
            ORDER BY n.created_at DESC 
            LIMIT ? OFFSET ?
        `;

        const [news] = await db.query(sql, [limit, offset]);

        res.json({ news, totalItems, currentPage: page });
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
};

// 2. TEK HABER DETAYI
exports.getNewsBySlug = async (req, res) => {
    try {
        const sql = `
            SELECT n.*, c.name as category_name, u.full_name as author_name 
            FROM news n 
            LEFT JOIN categories c ON n.category_id = c.id
            LEFT JOIN users u ON n.author_id = u.id
            WHERE n.slug = ?
        `;
        const [rows] = await db.query(sql, [req.params.slug]);

        if (rows.length === 0) return res.status(404).json({ message: 'Haber bulunamadÄ±' });

        db.query('UPDATE news SET view_count = view_count + 1 WHERE id = ?', [rows[0].id]);

        res.json(rows[0]);
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
};

// 3. YENÄ° HABER EKLE
exports.createNews = async (req, res) => {
    try {
        const { title, summary, content, category_id, is_breaking, is_slider } = req.body;
        const imagePath = req.file ? `/uploads/${req.file.filename}` : null;

        let slug = slugify(title, { lower: true, strict: true, locale: 'tr' });
        
        // Slug kontrolÃ¼
        const [check] = await db.query('SELECT id FROM news WHERE slug = ?', [slug]);
        if (check.length > 0) slug += `-${Date.now()}`;

        const sql = `
            INSERT INTO news (title, slug, summary, content, image_path, category_id, author_id, status, is_breaking, is_slider) 
            VALUES (?, ?, ?, ?, ?, ?, ?, 'published', ?, ?)
        `;

        await db.query(sql, [
            title, 
            slug, 
            summary, 
            content, 
            imagePath, 
            category_id, 
            req.userData.userId, 
            is_breaking === 'true' ? 1 : 0, 
            is_slider === 'true' ? 1 : 0
        ]);

        res.status(201).json({ message: 'Haber baÅŸarÄ±yla eklendi', slug });
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
};

// 4. HABER SÄ°L
exports.deleteNews = async (req, res) => {
    try {
        const [item] = await db.query('SELECT image_path FROM news WHERE id = ?', [req.params.id]);

        if (item.length > 0 && item[0].image_path) {
            // "public" klasÃ¶rÃ¼nÃ¼ yolun baÅŸÄ±na eklemeyi unutma, Ã§Ã¼nkÃ¼ veritabanÄ±nda /uploads/... diye kayÄ±tlÄ±
            // Ama dosya sistemi backend/public/uploads/... diye arÄ±yor olabilir.
            // Senin server.js ayarÄ±na gÃ¶re burasÄ± deÄŸiÅŸebilir, ama genelde:
            const filePath = `public${item[0].image_path}`; 
            if (fs.existsSync(filePath)) fs.unlinkSync(filePath);
        }

        await db.query('DELETE FROM news WHERE id = ?', [req.params.id]);
        res.json({ message: 'Haber ve resmi silindi.' });
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
};

// 5. HABER GÃœNCELLE
exports.updateNews = async (req, res) => {
    try {
        console.log("ðŸ“ GÃ¼ncelleme Ä°steÄŸi Geldi:", req.body);

        const { title, summary, content, category, is_breaking, is_slider } = req.body;
        const newsId = req.params.id;

        // 1. Slug Yenile
        let slug = slugify(title, { lower: true, strict: true, locale: 'tr' });
        slug += `-${Date.now()}`;

        // 2. Kategori ID Bul
        const [catResult] = await db.query('SELECT id FROM categories WHERE name = ?', [category]);
        const categoryId = catResult.length > 0 ? catResult[0].id : 1;

        // 3. SQL Parametrelerini HazÄ±rla
        // Temel parametreler
        let queryParams = [
            title, 
            slug, 
            summary, 
            content, 
            categoryId, 
            is_breaking === 'true' ? 1 : 0, 
            is_slider === 'true' ? 1 : 0
        ];

        let imageSqlPart = "";

        // EÄŸer yeni resim yÃ¼klendiyse SQL'e resim kÄ±smÄ±nÄ± da ekle
        if (req.file) {
            const imagePath = `/uploads/${req.file.filename}`;
            imageSqlPart = ", image_path = ?";
            queryParams.push(imagePath);
        }

        // En sona WHERE koÅŸulu iÃ§in ID'yi ekle
        queryParams.push(newsId);

        const sql = `
            UPDATE news 
            SET title=?, slug=?, summary=?, content=?, category_id=?, is_breaking=?, is_slider=?, status='published', updated_at=NOW() ${imageSqlPart}
            WHERE id=?
        `;

        await db.query(sql, queryParams);
        console.log("âœ… Haber GÃ¼ncellendi ID:", newsId);
        res.json({ message: 'Haber baÅŸarÄ±yla gÃ¼ncellendi!' });

    } catch (err) {
        console.error("âŒ GÃ¼ncelleme HatasÄ±:", err);
        res.status(500).json({ error: 'GÃ¼ncelleme sÄ±rasÄ±nda hata oluÅŸtu.' });
    }
};

============================================================
DOSYA YOLU: backend\controllers\videoController.js
============================================================
const db = require('../db');

exports.getAllVideos = async (req, res) => {
    try {
        const [videos] = await db.query('SELECT * FROM videos ORDER BY created_at DESC');
        res.json(videos);
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
};

exports.addVideo = async (req, res) => {
    try {
        const { title, video_url } = req.body;
        // Youtube Embed linkine Ã§evirme (Basit mantÄ±k)
        // Link: https://www.youtube.com/watch?v=dQw4w9WgXcQ -> Embed: https://www.youtube.com/embed/dQw4w9WgXcQ
        let finalUrl = video_url;
        if(video_url.includes('watch?v=')) {
            finalUrl = video_url.replace('watch?v=', 'embed/');
        } else if(video_url.includes('youtu.be/')) {
            finalUrl = video_url.replace('youtu.be/', 'youtube.com/embed/');
        }

        const sql = 'INSERT INTO videos (title, video_url) VALUES (?, ?)';
        await db.query(sql, [title, finalUrl]);
        res.status(201).json({ message: 'Video eklendi' });
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
};

exports.deleteVideo = async (req, res) => {
    try {
        await db.query('DELETE FROM videos WHERE id = ?', [req.params.id]);
        res.json({ message: 'Video silindi' });
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
};

============================================================
DOSYA YOLU: backend\middleware\authMiddleware.js
============================================================
// backend/middleware/authMiddleware.js
const jwt = require('jsonwebtoken');

module.exports = (req, res, next) => {
    try {
        // Token genelde "Bearer <token>" ÅŸeklinde gelir
        const token = req.headers.authorization.split(' ')[1];
        
        // Token'Ä± ÅŸifreyle Ã§Ã¶zmeye Ã§alÄ±ÅŸ
        const decodedToken = jwt.verify(token, process.env.JWT_SECRET);
        
        // Ã‡Ã¶zÃ¼len veriyi isteÄŸe ekle (req.userData iÃ§inde id ve role olacak)
        req.userData = { 
            userId: decodedToken.id, 
            role: decodedToken.role 
        };
        
        next(); // Her ÅŸey yolunda, geÃ§ebilirsin
    } catch (error) {
        res.status(401).json({ message: 'Yetkisiz eriÅŸim! LÃ¼tfen giriÅŸ yapÄ±n.' });
    }
};

============================================================
DOSYA YOLU: backend\routes\authRoutes.js
============================================================
// backend/routes/authRoutes.js
const express = require('express');
const router = express.Router();
const authController = require('../controllers/authController');

// Link: http://localhost:3000/api/auth/register
router.post('/register', authController.register);

// Link: http://localhost:3000/api/auth/login
router.post('/login', authController.login);

module.exports = router;

============================================================
DOSYA YOLU: backend\routes\newsRoutes.js
============================================================
// backend/routes/newsRoutes.js
const express = require('express');
const router = express.Router();
const newsController = require('../controllers/newsController');
const checkAuth = require('../middleware/authMiddleware');
const multer = require('multer');
const path = require('path');

// Resim YÃ¼kleme AyarÄ± (Multer)
const storage = multer.diskStorage({
    destination: (req, file, cb) => {
        cb(null, 'public/uploads/');
    },
    filename: (req, file, cb) => {
        // Dosya adÄ± Ã§akÄ±ÅŸmasÄ±n diye tarih ekliyoruz
        cb(null, Date.now() + path.extname(file.originalname)); 
    }
});

const upload = multer({ storage: storage });

// --- ROTALAR ---

// Herkes gÃ¶rebilir
router.get('/', newsController.getAllNews);
router.get('/:slug', newsController.getNewsBySlug);

// Sadece GiriÅŸ Yapanlar (checkAuth)
// upload.single('image') -> Frontend'den 'image' isminde dosya bekler
router.post('/', checkAuth, upload.single('image'), newsController.createNews);

router.delete('/:id', checkAuth, newsController.deleteNews);

module.exports = router;

// ... DiÄŸer rotalarÄ±n yanÄ±na ekle

// GÃ¼ncelleme RotasÄ± (PUT)
router.put('/:id', checkAuth, upload.single('image'), newsController.updateNews);

module.exports = router;

============================================================
DOSYA YOLU: database\vetiabanÄ±_kodlari.sql
============================================================
-- 1. VeritabanÄ±nÄ± oluÅŸtur ve seÃ§
CREATE DATABASE IF NOT EXISTS nerik_db;
USE nerik_db;

-- 2. Ã–NCE KULLANICILAR TABLOSU (Foreign Key hatasÄ± almamak iÃ§in)
CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(100) NOT NULL,
    role ENUM('admin', 'editor', 'author') DEFAULT 'author',
    permissions JSON,
    is_active BOOLEAN DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 3. SONRA KATEGORÄ°LER TABLOSU
CREATE TABLE IF NOT EXISTS categories (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    slug VARCHAR(50) NOT NULL UNIQUE,
    color VARCHAR(20) DEFAULT '#2563eb'
);

-- 4. EN SON HABERLER TABLOSU (DÃ¼zeltilmiÅŸ Hali)
CREATE TABLE IF NOT EXISTS news (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    slug VARCHAR(191) NOT NULL UNIQUE, -- HATA Ã‡Ã–ZÃœMÃœ: 255 yerine 191 yapÄ±ldÄ±.
    summary VARCHAR(500),
    content LONGTEXT,
    image_path VARCHAR(255),
    category_id INT,
    author_id INT,
    status ENUM('draft', 'published', 'archived') DEFAULT 'draft',
    view_count INT DEFAULT 0,
    is_breaking BOOLEAN DEFAULT 0,
    is_slider BOOLEAN DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE SET NULL,
    FOREIGN KEY (author_id) REFERENCES users(id) ON DELETE SET NULL
);

-- 5. AYARLAR TABLOSU
CREATE TABLE IF NOT EXISTS settings (
    setting_key VARCHAR(50) PRIMARY KEY,
    setting_value LONGTEXT
);

-- Ã–rnek Kategoriler Ekle
INSERT INTO categories (name, slug) VALUES 
('GÃ¼ndem', 'gundem'), 
('Spor', 'spor'), 
('Ekonomi', 'ekonomi');

-- Ã–rnek Admin HesabÄ± (Test iÃ§in)
INSERT INTO users (username, password_hash, full_name, role, permissions) 
VALUES ('admin', 'hashlenmis_sifre_ornegi', 'Osman Bey', 'admin', '{"all": true}');

============================================================
DOSYA YOLU: frontend\.editorconfig
============================================================
# Editor configuration, see https://editorconfig.org
root = true

[*]
charset = utf-8
indent_style = space
indent_size = 2
insert_final_newline = true
trim_trailing_whitespace = true

[*.ts]
quote_type = single
ij_typescript_use_double_quotes = false

[*.md]
max_line_length = off
trim_trailing_whitespace = false


============================================================
DOSYA YOLU: frontend\.gitignore
============================================================
# See https://docs.github.com/get-started/getting-started-with-git/ignoring-files for more about ignoring files.

# Compiled output
/dist
/tmp
/out-tsc
/bazel-out

# Node
/node_modules
npm-debug.log
yarn-error.log

# IDEs and editors
.idea/
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# Visual Studio Code
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json
.history/*

# Miscellaneous
/.angular/cache
.sass-cache/
/connect.lock
/coverage
/libpeerconnection.log
testem.log
/typings
__screenshots__/

# System files
.DS_Store
Thumbs.db


============================================================
DOSYA YOLU: frontend\angular.json
============================================================
{
  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",
  "version": 1,
  "cli": {
    "packageManager": "npm",
    "analytics": false
  },
  "newProjectRoot": "projects",
  "projects": {
    "frontend": {
      "projectType": "application",
      "schematics": {},
      "root": "",
      "sourceRoot": "src",
      "prefix": "app",
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "browser": "src/main.ts",
            "tsConfig": "tsconfig.app.json",
            "assets": [
              {
                "glob": "**/*",
                "input": "public"
              }
            ],
            "styles": [
              "src/styles.css",
              "node_modules/bootstrap/dist/css/bootstrap.min.css",
              "node_modules/@fortawesome/fontawesome-free/css/all.min.css",
              "node_modules/quill/dist/quill.snow.css",
              "node_modules/cropperjs/dist/cropper.css"
            ],
            "scripts": [
              "node_modules/@popperjs/core/dist/umd/popper.min.js",
              "node_modules/bootstrap/dist/js/bootstrap.min.js"
            ]
            
          },
          "configurations": {
            "production": {
              "budgets": [
                {
                  "type": "initial",
                  "maximumWarning": "500kB",
                  "maximumError": "1MB"
                },
                {
                  "type": "anyComponentStyle",
                  "maximumWarning": "4kB",
                  "maximumError": "8kB"
                }
              ],
              "outputHashing": "all"
            },
            "development": {
              "optimization": false,
              "extractLicenses": false,
              "sourceMap": true
            }
          },
          "defaultConfiguration": "production"
        },
        "serve": {
          "builder": "@angular/build:dev-server",
          "configurations": {
            "production": {
              "buildTarget": "frontend:build:production"
            },
            "development": {
              "buildTarget": "frontend:build:development"
            }
          },
          "defaultConfiguration": "development"
        },
        "test": {
          "builder": "@angular/build:unit-test"
        }
      }
    }
  }
}


============================================================
DOSYA YOLU: frontend\package.json
============================================================
{
  "name": "frontend",
  "version": "0.0.0",
  "scripts": {
    "ng": "ng",
    "start": "ng serve",
    "build": "ng build",
    "watch": "ng build --watch --configuration development",
    "test": "ng test",
    "serve:ssr:frontend": "node dist/frontend/server/server.mjs"
  },
  "prettier": {
    "printWidth": 100,
    "singleQuote": true,
    "overrides": [
      {
        "files": "*.html",
        "options": {
          "parser": "angular"
        }
      }
    ]
  },
  "private": true,
  "packageManager": "npm@11.6.2",
  "dependencies": {
    "@angular/animations": "^21.1.3",
    "@angular/common": "^21.0.0",
    "@angular/compiler": "^21.0.0",
    "@angular/core": "^21.0.0",
    "@angular/forms": "^21.0.0",
    "@angular/platform-browser": "^21.0.0",
    "@angular/platform-server": "^21.0.0",
    "@angular/router": "^21.0.0",
    "@angular/ssr": "^21.0.0",
    "@fortawesome/fontawesome-free": "^7.1.0",
    "@popperjs/core": "^2.11.8",
    "bootstrap": "^5.3.8",
    "cropperjs": "^1.5.13",
    "express": "^5.1.0",
    "font-awesome": "^4.7.0",
    "ngx-quill": "^26.0.0",
    "ngx-toastr": "^20.0.5",
    "quill": "^2.0.2",
    "rxjs": "~7.8.0",
    "tslib": "^2.3.0"
  },
  "devDependencies": {
    "@angular/build": "^21.0.0",
    "@angular/cli": "^21.0.0",
    "@angular/compiler-cli": "^21.0.0",
    "@types/express": "^5.0.1",
    "@types/node": "^20.17.19",
    "jsdom": "^27.1.0",
    "typescript": "~5.9.2",
    "vitest": "^4.0.8"
  }
}


============================================================
DOSYA YOLU: frontend\README.md
============================================================
# Frontend

This project was generated using [Angular CLI](https://github.com/angular/angular-cli) version 21.0.0.

## Development server

To start a local development server, run:

```bash
ng serve
```

Once the server is running, open your browser and navigate to `http://localhost:4200/`. The application will automatically reload whenever you modify any of the source files.

## Code scaffolding

Angular CLI includes powerful code scaffolding tools. To generate a new component, run:

```bash
ng generate component component-name
```

For a complete list of available schematics (such as `components`, `directives`, or `pipes`), run:

```bash
ng generate --help
```

## Building

To build the project run:

```bash
ng build
```

This will compile your project and store the build artifacts in the `dist/` directory. By default, the production build optimizes your application for performance and speed.

## Running unit tests

To execute unit tests with the [Karma](https://karma-runner.github.io) test runner, use the following command:

```bash
ng test
```

## Running end-to-end tests

For end-to-end (e2e) testing, run:

```bash
ng e2e
```

Angular CLI does not come with an end-to-end testing framework by default. You can choose one that suits your needs.

## Additional Resources

For more information on using the Angular CLI, including detailed command references, visit the [Angular CLI Overview and Command Reference](https://angular.dev/tools/cli) page.


============================================================
DOSYA YOLU: frontend\tsconfig.app.json
============================================================
/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/app",
    "types": [
      "node"
    ]
  },
  "include": [
    "src/**/*.ts"
  ],
  "exclude": [
    "src/**/*.spec.ts"
  ]
}


============================================================
DOSYA YOLU: frontend\tsconfig.json
============================================================
/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "compileOnSave": false,
  "compilerOptions": {
    "strict": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "skipLibCheck": true,
    "isolatedModules": true,
    "experimentalDecorators": true,
    "importHelpers": true,
    "target": "ES2022",
    "module": "preserve"
  },
  "angularCompilerOptions": {
    "enableI18nLegacyMessageIdFormat": false,
    "strictInjectionParameters": true,
    "strictInputAccessModifiers": true,
    "strictTemplates": true
  },
  "files": [],
  "references": [
    {
      "path": "./tsconfig.app.json"
    },
    {
      "path": "./tsconfig.spec.json"
    }
  ]
}


============================================================
DOSYA YOLU: frontend\tsconfig.spec.json
============================================================
/* To learn more about Typescript configuration file: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */
/* To learn more about Angular compiler options: https://angular.dev/reference/configs/angular-compiler-options. */
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "outDir": "./out-tsc/spec",
    "types": [
      "vitest/globals"
    ]
  },
  "include": [
    "src/**/*.d.ts",
    "src/**/*.spec.ts"
  ]
}


============================================================
DOSYA YOLU: frontend\src\index.html
============================================================
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Nerik Dijital Medya</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <app-root></app-root>
</body>
</html>


============================================================
DOSYA YOLU: frontend\src\main.ts
============================================================
import { bootstrapApplication } from '@angular/platform-browser';
import { appConfig } from './app/app.config';
import { App } from './app/app';

bootstrapApplication(App, appConfig)
  .catch((err) => console.error(err));


============================================================
DOSYA YOLU: frontend\src\styles.css
============================================================
body:not(.admin-body) {
    font-family: 'Plus Jakarta Sans', sans-serif; 
    background-color: #f1f5f9; 
    color: #334155;
    overflow-x: hidden;
}

body:not(.admin-body) h1, 
body:not(.admin-body) h2, 
body:not(.admin-body) h3, 
body:not(.admin-body) h4, 
body:not(.admin-body) h5, 
body:not(.admin-body) h6 { 
    font-family: 'Outfit', sans-serif; 
    color: #0f172a;
    font-weight: 700; 
}

a { text-decoration: none; }

============================================================
DOSYA YOLU: frontend\src\app\app.config.ts
============================================================
import { ApplicationConfig } from '@angular/core';
import { provideRouter } from '@angular/router';
import { routes } from './app.routes';
import { provideHttpClient, withFetch } from '@angular/common/http';
import { provideAnimations } from '@angular/platform-browser/animations';
import { provideToastr } from 'ngx-toastr';

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    provideHttpClient(withFetch()),
    provideAnimations(),
    provideToastr({
      timeOut: 3000,
      positionClass: 'toast-bottom-right',
      preventDuplicates: true,
    }) 
  ]
};

============================================================
DOSYA YOLU: frontend\src\app\app.css
============================================================
[DOSYA BOÅž]

============================================================
DOSYA YOLU: frontend\src\app\app.html
============================================================
<router-outlet></router-outlet>

============================================================
DOSYA YOLU: frontend\src\app\app.routes.server.ts
============================================================
import { RenderMode, ServerRoute } from '@angular/ssr';

export const serverRoutes: ServerRoute[] = [
  {
    path: '**',
    renderMode: RenderMode.Prerender
  }
];


============================================================
DOSYA YOLU: frontend\src\app\app.routes.ts
============================================================
import { Routes } from '@angular/router';
import { LoginComponent } from './components/login/login';
import { HomeComponent } from './components/home/home';
import { DashboardComponent } from './components/admin/dashboard/dashboard';
import { authGuard } from './guards/auth-guard';
import { NewsDetailComponent } from './components/news-detail/news-detail';

export const routes: Routes = [
    // 1. Site aÃ§Ä±lÄ±nca direkt Anasayfaya git
    { path: '', component: HomeComponent },
    
    // 2. Sadece /login yazanlar giriÅŸ ekranÄ±na gitsin
    { path: 'login', component: LoginComponent },

    { path: 'haber/:slug', component: NewsDetailComponent },

    // 3. Dashboard sayfasÄ± iÃ§in route 
    { path: 'admin', component: DashboardComponent },

    { path: 'admin', component: DashboardComponent, canActivate: [authGuard] }
];

============================================================
DOSYA YOLU: frontend\src\app\app.spec.ts
============================================================
import { TestBed } from '@angular/core/testing';
import { App } from './app';

describe('App', () => {
  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [App],
    }).compileComponents();
  });

  it('should create the app', () => {
    const fixture = TestBed.createComponent(App);
    const app = fixture.componentInstance;
    expect(app).toBeTruthy();
  });

  it('should render title', async () => {
    const fixture = TestBed.createComponent(App);
    await fixture.whenStable();
    const compiled = fixture.nativeElement as HTMLElement;
    expect(compiled.querySelector('h1')?.textContent).toContain('Hello, frontend');
  });
});


============================================================
DOSYA YOLU: frontend\src\app\app.ts
============================================================
import { Component, signal } from '@angular/core';
import { RouterOutlet } from '@angular/router';

@Component({
  selector: 'app-root',
  imports: [RouterOutlet],
  templateUrl: './app.html',
  styleUrl: './app.css'
})
export class App {
  protected readonly title = signal('frontend');
}


============================================================
DOSYA YOLU: frontend\src\app\components\admin\dashboard\dashboard.css
============================================================
/* --- Admin Paneli STÄ°LLERÄ° (DeÄŸiÅŸken Yok, DoÄŸrudan Renk) --- */

/* Ana KapsayÄ±cÄ± */
.admin-wrapper {
    display: flex;
    background-color: #f8f9fa !important; /* AÃ§Ä±k gri zemin */
    min-height: 100vh;
    font-family: 'Segoe UI', system-ui, sans-serif;
}

/* Sidebar (Sol MenÃ¼) - Rengi #0f172a (Lacivert) Olarak Zorluyoruz */
.sidebar { 
    width: 280px; 
    height: 100vh; 
    position: fixed; 
    top: 0;
    left: 0;
    background-color: #0f172a !important; /* Koyu Lacivert */
    color: white !important; /* YazÄ±lar Beyaz */
    z-index: 1000;
    box-shadow: 5px 0 25px rgba(0,0,0,0.05);
    overflow-y: auto;
}

/* Sidebar Marka AlanÄ± */
.sidebar-brand {
    padding: 20px;
    text-align: center;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

/* MenÃ¼ Linkleri */
.sidebar .nav-link { 
    color: rgba(255, 255, 255, 0.7) !important; /* Hafif saydam beyaz */
    padding: 15px 20px;
    font-weight: 500;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    cursor: pointer;
    display: flex;
    align-items: center;
    border-radius: 8px;
    margin: 5px 10px;
}

/* Linkin Ãœzerine Gelince */
.sidebar .nav-link:hover, .sidebar .nav-link.active { 
    background-color: rgba(255, 255, 255, 0.15) !important;
    color: #ffffff !important;
    padding-left: 25px !important; /* Hafif saÄŸa kayma efekti */
}

/* Ä°konlar */
.sidebar .nav-link i {
    width: 25px;
    text-align: center;
}

/* SaÄŸ Ä°Ã§erik AlanÄ± */
.main-content { 
    margin-left: 280px; 
    padding: 30px;
    width: calc(100% - 280px);
    background-color: #f8f9fa !important;
}

/* YÃ¼kleme Kutusu (Image Upload) */
.image-upload-box {
    transition: all 0.3s border-color;
    border: 2px dashed #cbd5e1;
    background-color: #ffffff;
}
.image-upload-box:hover {
    border-color: #2563eb !important; /* Mavi Ã‡erÃ§eve */
    background-color: #eff6ff !important;
}

/* Cropper (KÄ±rpma) AlanÄ± */
.cropper-container {
    width: 100%;
    max-height: 400px;
    border-radius: 8px;
    overflow: hidden;
    background-color: #333;
}

============================================================
DOSYA YOLU: frontend\src\app\components\admin\dashboard\dashboard.html
============================================================
<div class="admin-wrapper d-flex">
  <div class="sidebar" id="sidebar">
    <div class="sidebar-brand text-center py-4 border-bottom border-secondary">
      <span class="text-primary fw-bold fs-4">N</span
      ><span class="text-white fw-bold fs-4">ERÄ°K</span>
      <small class="d-block text-muted" style="font-size: 0.7rem">YÃ–NETÄ°M PANELÄ°</small>
    </div>

    <nav class="mt-4 px-2 d-flex flex-column gap-1">
      <a
        (click)="switchTab('news')"
        [class.active]="activeTab === 'news'"
        class="nav-link rounded p-3 text-white-50 hover-text-white"
        style="cursor: pointer"
      >
        <i class="fas fa-newspaper me-3 text-primary"></i> Haberler
      </a>
      <a
        (click)="switchTab('slider')"
        [class.active]="activeTab === 'slider'"
        class="nav-link rounded p-3 text-white-50 hover-text-white"
        style="cursor: pointer"
      >
        <i class="fas fa-images me-3 text-warning"></i> ManÅŸetler
      </a>
      <a
        (click)="switchTab('breaking')"
        [class.active]="activeTab === 'breaking'"
        class="nav-link rounded p-3 text-white-50 hover-text-white"
        style="cursor: pointer"
      >
        <i class="fas fa-bolt me-3 text-danger"></i> Son Dakika
      </a>
      <a
        (click)="switchTab('videos')"
        [class.active]="activeTab === 'videos'"
        class="nav-link rounded p-3 text-white-50 hover-text-white"
        style="cursor: pointer"
      >
        <i class="fab fa-youtube me-3 text-danger"></i> Video Galeri
      </a>
      <a class="nav-link rounded p-3 text-white-50 hover-text-white" style="cursor: pointer">
        <i class="fas fa-ad me-3 text-success"></i> Reklamlar
      </a>
      <a class="nav-link rounded p-3 text-white-50 hover-text-white" style="cursor: pointer">
        <i class="fas fa-pen-nib me-3 text-info"></i> KÃ¶ÅŸe YazÄ±larÄ±
      </a>
      <a class="nav-link rounded p-3 text-white-50 hover-text-white" style="cursor: pointer">
        <i class="fas fa-users me-3 text-secondary"></i> Personel
      </a>

      <hr class="border-secondary my-3" />

      <a routerLink="/" class="nav-link rounded p-3 text-info" style="cursor: pointer">
        <i class="fas fa-external-link-alt me-3"></i> Siteyi GÃ¶r
      </a>
      <a (click)="onLogout()" class="nav-link rounded p-3 text-danger mt-2" style="cursor: pointer">
        <i class="fas fa-sign-out-alt me-3"></i> GÃ¼venli Ã‡Ä±kÄ±ÅŸ
      </a>
    </nav>
  </div>

  <div class="main-content flex-grow-1 bg-light">
    <div
      class="d-flex justify-content-between align-items-center mb-5 bg-white p-4 rounded-4 shadow-sm"
    >
      <div>
        <h4 class="fw-bold text-dark mb-0">HABER YÃ–NETÄ°MÄ°</h4>
        <small class="text-muted">HoÅŸ geldin, {{ currentUser?.full_name || 'YÃ¶netici' }}</small>
      </div>
      <div class="d-flex align-items-center gap-3">
        <div class="text-end d-none d-md-block">
          <span class="d-block fw-bold small text-dark">{{ currentUser?.full_name }}</span>
          <span class="badge bg-primary text-uppercase" style="font-size: 0.65rem">ADMIN</span>
        </div>
        <img
          [src]="
            'https://ui-avatars.com/api/?name=' +
            (currentUser?.full_name || 'Admin') +
            '&background=2563eb&color=fff'
          "
          class="rounded-circle shadow-sm"
          width="45"
          height="45"
        />
      </div>
    </div>

    <div class="mb-4" *ngIf="!showNewsForm">
      <button
        class="btn btn-primary px-4 py-3 fw-bold shadow-sm rounded-3 hover-scale"
        (click)="showNewsForm = true"
      >
        <i class="fas fa-plus-circle me-2"></i> Yeni Haber Ekle
      </button>
    </div>

    <div class="card border-0 shadow-sm p-4 mb-5 rounded-4 bg-white fade-in" *ngIf="showNewsForm">
      <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
        <h5 class="fw-bold mb-0 text-primary">
          <i class="fas fa-edit me-2"></i> Yeni Haber OluÅŸtur
        </h5>
        <button class="btn-close" (click)="showNewsForm = false"></button>
      </div>

      <div class="row g-4">
        <div class="col-lg-8">
          <div class="mb-4">
            <label class="form-label fw-bold small text-secondary text-uppercase"
              >Haber BaÅŸlÄ±ÄŸÄ±</label
            >
            <input
              type="text"
              [(ngModel)]="newsData.title"
              class="form-control form-control-lg bg-light border-0 py-3 fw-bold"
              placeholder="Dikkat Ã§ekici bir baÅŸlÄ±k girin..."
            />
          </div>

          <div class="mb-3">
            <label class="form-label fw-bold small text-secondary text-uppercase"
              >Haber Ä°Ã§eriÄŸi</label
            >
            <div class="bg-white border rounded-3 overflow-hidden">
              <quill-editor
                [(ngModel)]="newsData.content"
                [styles]="{ height: '350px' }"
                placeholder="Haber detaylarÄ±nÄ± buraya yazÄ±n..."
              ></quill-editor>
            </div>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="card bg-light border-0 p-4 rounded-4 h-100">
            <div class="mb-4">
              <label class="form-label fw-bold small text-secondary text-uppercase">Kategori</label>
              <select
                [(ngModel)]="newsData.category"
                class="form-select form-select-lg border-0 shadow-sm"
              >
                <option value="GÃœNDEM">GÃœNDEM</option>
                <option value="EKONOMÄ°">EKONOMÄ°</option>
                <option value="SPOR">SPOR</option>
                <option value="TEKNOLOJÄ°">TEKNOLOJÄ°</option>
              </select>
            </div>

            <div class="mb-4">
              <label class="form-label fw-bold small text-secondary text-uppercase"
                >Haber GÃ¶rseli</label
              >

              <input
                type="file"
                #fileInput
                (change)="onFileSelected($event)"
                class="d-none"
                accept="image/*"
              />

              <div
                class="image-upload-box bg-white border border-2 border-dashed rounded-4 p-4 text-center cursor-pointer position-relative overflow-hidden"
                (click)="fileInput.click()"
                style="
                  min-height: 200px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-direction: column;
                "
              >
                <div *ngIf="!selectedFile">
                  <i class="fas fa-cloud-upload-alt fa-3x text-primary mb-3"></i>
                  <h6 class="fw-bold text-dark mb-1">Resim SeÃ§</h6>
                  <small class="text-muted">.jpg veya .png (Max 2MB)</small>
                </div>

                <div [class.d-none]="!selectedFile" class="w-100 h-100">
                  <img #imageElement style="max-width: 100%; display: block" />
                </div>
              </div>
            </div>

            <div class="d-grid gap-3 mt-auto">
              <button (click)="saveNews()" class="btn btn-primary fw-bold py-3 shadow-sm rounded-3">
                <i class="fas fa-paper-plane me-2"></i> YAYINLA
              </button>
              <button
                (click)="showNewsForm = false"
                class="btn btn-outline-secondary fw-bold py-2 rounded-3 border-0"
              >
                VAZGEÃ‡
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card border-0 shadow-sm rounded-4 overflow-hidden">
      <div class="card-header bg-white py-3 border-bottom">
        <h6 class="fw-bold m-0 text-secondary text-uppercase ls-1">Sistemdeki Haberler</h6>
      </div>
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="bg-light text-muted small text-uppercase">
            <tr>
              <th class="ps-4 py-3">GÃ¶rsel</th>
              <th>BaÅŸlÄ±k</th>
              <th>Kategori</th>
              <th class="text-end pe-4">Ä°ÅŸlemler</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let news of newsList">
              <td class="ps-4">
                <img
                  *ngIf="news.image_path"
                  [src]="baseUrl + news.image_path"
                  class="rounded-3 shadow-sm object-fit-cover"
                  style="width: 60px; height: 40px"
                />
                <div
                  *ngIf="!news.image_path"
                  class="bg-secondary rounded-3"
                  style="width: 60px; height: 40px"
                ></div>
              </td>

              <td class="fw-bold text-dark">{{ news.title | uppercase }}</td>

              <td>
                <span class="badge bg-primary-subtle text-primary border border-primary-subtle">
                  {{ news.category_name || news.category || 'Genel' }}
                </span>
              </td>

              <td class="text-end pe-4">
                <button
                  (click)="editNews(news)"
                  class="btn btn-sm btn-light text-warning me-2 shadow-sm"
                >
                  <i class="fas fa-edit"></i>
                </button>
                <button
                  (click)="deleteNews(news.id)"
                  class="btn btn-sm btn-light text-danger shadow-sm"
                >
                  <i class="fas fa-trash"></i>
                </button>
              </td>
            </tr>

            <tr *ngIf="newsList.length === 0">
              <td colspan="4" class="text-center py-5 text-muted">
                <i class="fas fa-inbox fa-2x mb-3 opacity-25"></i>
                <p class="mb-0 fw-bold">HenÃ¼z sisteme eklenmiÅŸ haber yok.</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div *ngIf="activeTab === 'news' || activeTab === 'slider' || activeTab === 'breaking'">
    </div>

<div *ngIf="activeTab === 'videos'" class="fade-in">
    <div class="row mb-4">
        <div class="col-md-5">
            <div class="card border-0 shadow-sm p-4">
                <h6 class="fw-bold mb-3">Yeni Video Ekle</h6>
                <input type="text" [(ngModel)]="videoData.title" class="form-control mb-3" placeholder="Video BaÅŸlÄ±ÄŸÄ±">
                <input type="text" [(ngModel)]="videoData.video_url" class="form-control mb-3" placeholder="YouTube Linki (Ã–rn: https://www.youtube.com/watch?v=...)">
                <button (click)="saveVideo()" class="btn btn-danger w-100"><i class="fab fa-youtube me-2"></i> Videoyu Ekle</button>
            </div>
        </div>
        
        <div class="col-md-7">
            <div class="row g-3">
                <div *ngFor="let video of videoList" class="col-md-6">
                    <div class="card h-100 shadow-sm border-0 overflow-hidden">
                        <iframe [src]="sanitizer.bypassSecurityTrustResourceUrl(video.video_url)" height="200" frameborder="0" allowfullscreen></iframe>
                        <div class="card-body d-flex justify-content-between align-items-center">
                            <span class="small fw-bold">{{ video.title }}</span>
                            <button (click)="deleteVideo(video.id)" class="btn btn-sm btn-light text-danger"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


============================================================
DOSYA YOLU: frontend\src\app\components\admin\dashboard\dashboard.spec.ts
============================================================
import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Dashboard } from './dashboard';

describe('Dashboard', () => {
  let component: Dashboard;
  let fixture: ComponentFixture<Dashboard>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Dashboard]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Dashboard);
    component = fixture.componentInstance;
    await fixture.whenStable();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});


============================================================
DOSYA YOLU: frontend\src\app\components\admin\dashboard\dashboard.ts
============================================================
import { Component, OnInit, OnDestroy, ViewChild, ElementRef, ChangeDetectorRef } from '@angular/core'; // ChangeDetectorRef eklendi
import { CommonModule } from '@angular/common';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { RouterModule, Router } from '@angular/router';
import { AuthService } from '../../../services/auth';
import { FormsModule } from '@angular/forms';
import { QuillModule } from 'ngx-quill';
import Cropper from 'cropperjs';
import { DomSanitizer } from '@angular/platform-browser';

@Component({
  selector: 'app-dashboard',
  standalone: true,
  imports: [CommonModule, RouterModule, FormsModule, QuillModule],
  templateUrl: './dashboard.html',
  styleUrls: ['./dashboard.css']
})
export class DashboardComponent implements OnInit, OnDestroy {
  showNewsForm: boolean = false;
  currentUser: any = null;
  selectedFile: boolean = false;
  isEditing: boolean = false;
  currentNewsId: number | null = null;
  activeTab: string = 'news'; // VarsayÄ±lan sekme: Haberler
  videoList: any[] = [];
  videoData = { title: '', video_url: '' };
  
  // Haber Listesi (BaÅŸlangÄ±Ã§ta boÅŸ dizi)
  newsList: any[] = [];
  baseUrl = 'http://localhost:3000'; 

  @ViewChild('imageElement') imageElement!: ElementRef;
  cropper: any; 

  newsData = {
    title: '',
    category: 'GÃœNDEM',
    content: '',
    image: null
  };

  constructor(
    private authService: AuthService, 
    private router: Router,
    private http: HttpClient,
    private cdr: ChangeDetectorRef, // Dedektifi buraya Ã§aÄŸÄ±rdÄ±k
    public sanitizer: DomSanitizer
  ) {}

  switchTab(tabName: string) {
    this.activeTab = tabName;
    
    if (tabName === 'news') {
        this.getNews(); // TÃ¼m haberler
    } else if (tabName === 'slider') {
        this.getFilteredNews('slider'); // Sadece ManÅŸetler
    } else if (tabName === 'breaking') {
        this.getFilteredNews('breaking'); // Sadece Son Dakika
    } else if (tabName === 'videos') {
        this.getVideos(); // Videolar
    }
  }

  getFilteredNews(type: string) {
    this.http.get<any>(`http://localhost:3000/api/news?type=${type}`).subscribe({
        next: (res) => {
            this.newsList = res.news || [];
            this.cdr.detectChanges();
        }
    });
  }

  // VÄ°DEOLARI GETÄ°R
  getVideos() {
    this.http.get<any>('http://localhost:3000/api/videos').subscribe({
        next: (res) => {
            this.videoList = res;
            this.cdr.detectChanges();
        }
    });
  }

  // VÄ°DEO EKLE
  saveVideo() {
    if(!this.videoData.title || !this.videoData.video_url) { alert('AlanlarÄ± doldurun'); return; }
    
    this.http.post('http://localhost:3000/api/videos', this.videoData).subscribe({
        next: () => {
            alert('Video eklendi');
            this.videoData = { title: '', video_url: '' };
            this.getVideos();
        }
    });
  }

  // VÄ°DEO SÄ°L
  deleteVideo(id: number) {
    if(confirm('Video silinsin mi?')) {
        this.http.delete(`http://localhost:3000/api/videos/${id}`).subscribe(() => this.getVideos());
    }
  }

  ngOnInit() {
    document.body.classList.add('admin-body');
    this.currentUser = this.authService.getCurrentUser();
    
    if (!this.currentUser) {
      this.router.navigate(['/login']);
    } else {
      // Sayfa aÃ§Ä±lÄ±nca haberleri Ã§ek
      this.getNews();
    }
  }

  ngOnDestroy() {
    document.body.classList.remove('admin-body');
  }

  // --- GELÄ°ÅžMÄ°Åž HABER Ã‡EKME FONKSÄ°YONU ---
  getNews() {
    this.http.get<any>('http://localhost:3000/api/news').subscribe({
        next: (response) => {
            console.log("âœ… Backend CevabÄ± Ham Veri:", response);

            // 1. Ä°htimal: Sunucu { news: [...] } gÃ¶nderiyor
            if (response.news && Array.isArray(response.news)) {
                this.newsList = response.news;
            } 
            // 2. Ä°htimal: Sunucu direkt [...] gÃ¶nderiyor
            else if (Array.isArray(response)) {
                this.newsList = response;
            } 
            // 3. Ä°htimal: Veri yok veya format deÄŸiÅŸik
            else {
                console.warn("âš ï¸ Veri formatÄ± beklenmedik:", response);
                this.newsList = [];
            }

            console.log("ðŸ“‹ Ekrana BasÄ±lacak Liste (newsList):", this.newsList);
            
            // â­ KRÄ°TÄ°K DOKUNUÅž: Angular'Ä± ekranÄ± yenilemesi iÃ§in zorluyoruz
            this.cdr.detectChanges(); 
        },
        error: (err) => {
            console.error("âŒ Haber Ã§ekme hatasÄ±:", err);
        }
    });
  }

  // --- SÄ°LME FONKSÄ°YONU ---
  deleteNews(id: number) {
      if(confirm('Silmek istediÄŸine emin misin?')) {
        const token = localStorage.getItem('token');
        const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);

        this.http.delete(`http://localhost:3000/api/news/${id}`, { headers: headers }).subscribe({
            next: () => {
                alert("Haber silindi.");
                this.getNews(); // Listeyi yenile
            },
            error: (err) => alert("Silinemedi: " + err.message)
        });
      }
  }

  // --- KAYDETME VE DÄ°ÄžERLERÄ° ---
  onFileSelected(event: any) {
    const file = event.target.files[0];
    if (file) {
      this.selectedFile = true;
      const reader = new FileReader();
      reader.onload = (e: any) => {
        this.imageElement.nativeElement.src = e.target.result;
        if (this.cropper) { this.cropper.destroy(); }
        this.cropper = new Cropper(this.imageElement.nativeElement, {
          aspectRatio: 16 / 9, viewMode: 1, autoCropArea: 1,
        } as any);
      };
      reader.readAsDataURL(file);
    }
  }

  saveNews() {
     if (!this.newsData.title) { alert("BaÅŸlÄ±k giriniz!"); return; }
     
     // EÄŸer yeni kayÄ±t yapÄ±yorsak resim ÅŸart. Ama dÃ¼zenliyorsak resim ÅŸart deÄŸil (eskisi kalabilir).
     if (!this.isEditing && !this.cropper) { alert("Resim seÃ§iniz!"); return; }

     const formData = new FormData();
     formData.append('title', this.newsData.title);
     formData.append('content', this.newsData.content);
     formData.append('category', this.newsData.category);
     formData.append('is_breaking', '0');
     formData.append('is_slider', '1');

     // Token HazÄ±rlÄ±ÄŸÄ±
     const token = localStorage.getItem('token');
     const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);

     // A) EÄžER YENÄ° RESÄ°M VARSA (Cropper aktifse)
     if (this.cropper) {
        this.cropper.getCroppedCanvas().toBlob((blob: any) => {
            if (blob) {
                formData.append('image', blob, 'news-image.jpg');
                this.sendRequest(formData, headers); // Ä°steÄŸi gÃ¶nder
            }
        }, 'image/jpeg', 0.8);
     } 
     // B) EÄžER YENÄ° RESÄ°M YOKSA (Sadece metin gÃ¼ncelleniyorsa)
     else {
        this.sendRequest(formData, headers);
     }
  }

  // Ä°STEÄžÄ° GÃ–NDEREN YARDIMCI FONKSÄ°YON (Kod tekrarÄ±nÄ± Ã¶nlemek iÃ§in)
  sendRequest(formData: FormData, headers: HttpHeaders) {
    if (this.isEditing && this.currentNewsId) {
        // GÃœNCELLEME (PUT)
        this.http.put(`http://localhost:3000/api/news/${this.currentNewsId}`, formData, { headers: headers }).subscribe({
            next: () => {
                alert('Haber gÃ¼ncellendi!');
                this.resetForm();
                this.getNews();
            },
            error: (err) => alert("GÃ¼ncelleme HatasÄ±: " + err.message)
        });
    } else {
        // YENÄ° KAYIT (POST)
        this.http.post('http://localhost:3000/api/news', formData, { headers: headers }).subscribe({
            next: () => {
                alert('Haber eklendi!');
                this.resetForm();
                this.getNews();
            },
            error: (err) => alert("KayÄ±t HatasÄ±: " + err.message)
        });
    }
  }

  onLogout() {
    this.authService.logout();
    this.router.navigate(['/login']);
  }

  editNews(news: any) {
    this.isEditing = true;
    this.currentNewsId = news.id;
    this.showNewsForm = true;

    // Mevcut verileri forma doldur
    this.newsData = {
      title: news.title,
      category: news.category_name || 'GÃœNDEM', // Backend'den gelen kategori adÄ±
      content: news.content,
      image: null // Resim inputu boÅŸ kalÄ±r, kullanÄ±cÄ± isterse deÄŸiÅŸtirir
    };

    // Varsa mevcut resmi Ã¶nizlemeye koy (Cropper olmadan sadece gÃ¶ster)
    if (news.image_path) {
        setTimeout(() => {
            this.imageElement.nativeElement.src = this.baseUrl + news.image_path;
            // Cropper'Ä± baÅŸlatmÄ±yoruz, kullanÄ±cÄ± yeni resim seÃ§erse baÅŸlar
        }, 100);
    }
  }

  resetForm() {
    this.showNewsForm = false;
    this.isEditing = false;
    this.currentNewsId = null;
    this.newsData = { title: '', category: 'GÃœNDEM', content: '', image: null };
    this.selectedFile = false;
    if (this.cropper) { this.cropper.destroy(); this.cropper = null; }
    this.imageElement.nativeElement.src = '';
  }

  

}

============================================================
DOSYA YOLU: frontend\src\app\components\home\home.css
============================================================
/* Logo Kutusu */
.logo-box {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white; 
    width: 50px; height: 50px; 
    display: flex; align-items: center; justify-content: center;
    font-size: 1.8rem; border-radius: 12px;
    box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
}
.brand-title { color: var(--secondary); letter-spacing: -0.5px; }
.brand-subtitle { color: var(--primary); font-weight: 600; letter-spacing: 1px; font-size: 0.75rem; text-transform: uppercase; }

/* MenÃ¼ Linkleri */
.nav-link-custom { 
    color: var(--secondary); font-weight: 600; 
    padding: 0 20px; text-transform: uppercase; 
    font-size: 0.85rem; transition: 0.3s; 
    position: relative; display: flex; align-items: center; text-decoration: none;
}
.nav-link-custom:hover { color: var(--primary); }

/* Sosyal Medya ButonlarÄ± */
.social-btn {
    width: 30px; height: 30px; 
    background: rgba(255,255,255,0.1); 
    display: flex; align-items: center; justify-content: center; 
    border-radius: 50%; color: white; transition: 0.2s;
}
.social-btn:hover { background: var(--primary); transform: translateY(-2px); }

/* WhatsApp Butonu */
.whatsapp-float {
    position: fixed; bottom: 25px; left: 25px; 
    background: var(--whatsapp-green); color: white;
    padding: 12px 20px; border-radius: 50px; 
    font-weight: 700; 
    box-shadow: 0 10px 25px rgba(37, 211, 102, 0.4); 
    z-index: 999; text-decoration: none;
    display: flex; align-items: center; transition: 0.3s;
}
.whatsapp-float:hover { transform: scale(1.05); }

/* SON DAKÄ°KA ETÄ°KETÄ° (Yamuk Kesim - Tek Seferde TanÄ±mlÄ±) */
.breaking-label {
    background-color: #212529;
    color: white;
    padding-right: 30px !important;
    clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%);
    width: fit-content;
    min-width: 160px;
    position: relative;
}
/* Siyah Ã¼Ã§gen detayÄ± */
.breaking-label::after { 
    content: ''; position: absolute; right: -20px; top: 0;
    border-top: 48px solid #212529; 
    border-right: 20px solid transparent; 
}

/* KAYAN YAZI */
.marquee-wrapper { white-space: nowrap; }
.marquee-content {
    display: inline-block;
    padding-left: 100%;
    animation: scroll-left 20s linear infinite;
}
@keyframes scroll-left {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
}

/* Resim OranÄ± */
.object-fit-cover { object-fit: cover; }

/* Metin TaÅŸmasÄ±nÄ± Engelleme (SarÄ± Hata Giderildi) */
.line-clamp-2 {
    display: -webkit-box;
    /* autoprefixer: ignore next */
    -webkit-box-orient: vertical; /* SarÄ± hatanÄ±n sebebi buydu, artÄ±k sorun yok */
    -webkit-line-clamp: 2;
    overflow: hidden;
}

/* Arama Kutusu */
.search-box {
    position: relative; background: #f1f5f9;
    height: 40px; border-radius: 40px; padding: 10px;
    display: flex; align-items: center; transition: 0.4s;
    width: 40px; overflow: hidden;
}
.search-box:hover, .search-box:focus-within {
    width: 250px; background: white;
    border: 1px solid #e2e8f0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}
.search-btn {
    color: var(--primary); float: right;
    width: 20px; height: 20px;
    display: flex; justify-content: center; align-items: center;
    text-decoration: none; transition: 0.4s;
}
.search-input {
    border: none; outline: none; background: none;
    float: left; padding: 0; color: #333;
    font-size: 14px; transition: 0.4s;
    line-height: 20px; width: 0px;
}
.search-box:hover .search-input, .search-box:focus-within .search-input {
    width: 200px; padding: 0 10px;
}

============================================================
DOSYA YOLU: frontend\src\app\components\home\home.html
============================================================
<div class="top-bar py-2 d-none d-md-block bg-dark text-white">
    <div class="container d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center gap-3 small">
            <span class="opacity-75">8 Åžubat 2026 Pazar</span>
            <span class="opacity-25">|</span>
            
            <span class="fw-bold text-warning d-flex align-items-center" *ngIf="weather$ | async as w; else loadingWeather">
    <i class="fas me-2" [ngClass]="w.icon"></i> 
    VezirkÃ¶prÃ¼ {{ w.temp }}Â°C
</span>

<ng-template #loadingWeather>
    <span class="fw-bold text-warning opacity-50">
        <i class="fas fa-spinner fa-spin me-2"></i> YÃ¼kleniyor...
    </span>
</ng-template>
        </div>
        
        <div class="d-flex gap-2">
            <a href="https://www.facebook.com/ulucinardijitalmedya" target="_blank" class="social-btn" title="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://x.com/ulucinardijitalmedya" target="_blank" class="social-btn" title="X (Twitter)">
    <svg xmlns="http://www.w3.org/2000/svg" height="14" width="14" viewBox="0 0 512 512" fill="white">
        <path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/>
    </svg>
</a>
            <a href="https://www.instagram.com/ulucinardijitalmedya" target="_blank" class="social-btn" title="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@ulucinardijitalmedya" target="_blank" class="social-btn" title="TikTok"><i class="fa-brands fa-tiktok"></i></a>
            <a href="https://www.youtube.com/@ulucinardijitalmedya" target="_blank" class="social-btn" title="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
    </div>
</div>

<header class="py-4 bg-white border-bottom">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-4 text-center text-md-start">
                <a href="/" class="d-inline-flex align-items-center text-decoration-none">
                    <div class="logo-box me-3">N</div>
                    <div class="d-flex flex-column justify-content-center text-start">
                        <span class="h2 fw-bold mb-0 brand-title lh-1">NERÄ°K</span>
                        <span class="brand-subtitle">DÄ°JÄ°TAL MEDYA</span>
                    </div>
                </a>
            </div>
            <div class="col-md-8">
                <div class="d-flex align-items-center justify-content-center bg-light border rounded-4 mx-auto" style="height: 90px; max-width: 728px; border-style: dashed !important;">
                    <span class="text-secondary small fw-bold text-uppercase">REKLAM ALANI</span>
                </div>
            </div>
        </div>
    </div>
</header>

<nav class="navbar-custom bg-white shadow-sm sticky-top">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center" style="height: 60px;">
            <div class="d-flex h-100">
                <a href="/" class="nav-link-custom">ANASAYFA</a>
                <a href="#" class="nav-link-custom">GÃœNDEM</a>
                <a href="#" class="nav-link-custom">SPOR</a>
            </div>

            <div class="search-box ms-auto me-3 d-none d-md-block">
    <input type="text" class="search-input" placeholder="Haber ara...">
    <a href="#" class="search-btn">
        <i class="fas fa-search"></i>
    </a>
</div>

            <a href="/login" class="btn btn-sm btn-outline-primary ms-3 d-none d-md-block">GiriÅŸ</a>
        </div>
    </div>
</nav>

<div class="breaking-news-bar bg-primary text-white overflow-hidden position-relative" style="height: 40px;">
    <div class="container-fluid h-100 p-0 d-flex"> <div class="breaking-label bg-dark px-4 h-100 d-flex align-items-center fw-bold small fst-italic position-relative z-2">
            <span class="spinner-grow spinner-grow-sm text-danger me-2"></span> SON DAKÄ°KA
        </div>

        <div class="marquee-wrapper w-100 d-flex align-items-center overflow-hidden position-relative">
            <div class="marquee-content fw-bold small">
                {{ breakingNews }}
            </div>
        </div>

    </div>
</div>

<main class="container py-5">
    <div class="row g-5">
        <div class="col-lg-8">
            
            <div *ngIf="sliderNews.length > 0" class="bg-dark rounded-4 mb-5 position-relative overflow-hidden" style="height: 450px;">
                <img [src]="baseUrl + sliderNews[0].image_path" class="w-100 h-100 object-fit-cover" alt="ManÅŸet">
                <div class="position-absolute bottom-0 start-0 w-100 p-4" style="background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);">
                    <h2 class="text-white fw-bold mb-1">{{ sliderNews[0].title }}</h2>
                </div>
            </div>

            <div *ngIf="sliderNews.length === 0" class="bg-secondary rounded-4 mb-5 d-flex align-items-center justify-content-center text-white" style="height: 450px;">
                <p>HenÃ¼z manÅŸet haber girilmedi.</p>
            </div>

            <div class="d-flex align-items-center justify-content-between mb-4 pb-2 border-bottom">
                <h3 class="mb-0 text-secondary border-start border-4 border-primary ps-3">GÃ¼nÃ¼n Ã–ne Ã‡Ä±kanlarÄ±</h3>
            </div>

            <div class="d-flex flex-column gap-4">
                
                <article *ngFor="let news of latestNews" class="bg-white rounded-4 shadow-sm overflow-hidden d-flex flex-column flex-md-row">
                    <div class="col-md-5 position-relative bg-light d-flex align-items-center justify-content-center overflow-hidden" style="min-height: 200px;">
                        <span class="badge bg-primary position-absolute top-0 start-0 m-3 z-1">{{ news.category_name || 'GÃ¼ndem' }}</span>
                        
                        <img *ngIf="news.image_path" [src]="baseUrl + news.image_path" class="w-100 h-100 object-fit-cover position-absolute top-0 start-0">
                        
                        <i *ngIf="!news.image_path" class="fas fa-newspaper fa-3x text-secondary opacity-25"></i>
                    </div>

                    <div class="col-md-7 p-4 d-flex flex-column justify-content-center">
                        <h4 class="fw-bold text-secondary mb-2">{{ news.title }}</h4>
                        <p class="text-muted small mb-3 line-clamp-2">{{ news.summary }}</p>
                        
                        <div class="d-flex align-items-center justify-content-between mt-auto">
                            <span class="small text-muted"><i class="far fa-clock me-1"></i> {{ news.created_at | date:'dd.MM.yyyy' }}</span>
                            <a [routerLink]="['/haber', news.slug]" class="text-primary small fw-bold text-decoration-none cursor-pointer">
                                <i class="fas fa-arrow-right me-1"></i> Haberi Oku
                            </a>
                        </div>
                    </div>
                </article>

            </div>
        </div>

        <div class="col-lg-4">
            <div class="bg-white d-flex align-items-center justify-content-center border rounded-4 mb-4 shadow-sm" style="height: 300px; border-style: dashed !important;">
    <span class="text-secondary small fw-bold">DÄ°KEY REKLAM ALANI</span>
</div>

            <div class="bg-white p-4 rounded-4 shadow-sm border-0 mb-5">
    <div class="d-flex align-items-center justify-content-between mb-4 border-bottom pb-2">
        <h5 class="fw-bold mb-0 text-secondary border-start border-4 border-primary ps-3">KÃ¶ÅŸe YazarlarÄ±</h5>
    </div>

    <div class="text-center text-muted py-5 bg-light rounded-3 border border-light-subtle">
        <i class="fas fa-feather-alt fa-2x mb-3 opacity-50"></i>
        <p class="mb-0 small fw-bold">HenÃ¼z kÃ¶ÅŸe yazÄ±sÄ± girilmedi.</p>
    </div>

    </div>
        </div>
    </div>
</main>
<footer class="bg-white border-top py-5 mt-auto">
    <div class="container text-center">
        
        <div class="d-flex flex-column align-items-center justify-content-center mb-4">
            <div class="logo-box mb-3" style="width: 60px; height: 60px; font-size: 2rem;">N</div>
            <h3 class="fw-bold text-secondary mb-0">NERÄ°K</h3>
            <span class="text-primary fw-bold small letter-spacing-2" style="letter-spacing: 3px;">DÄ°JÄ°TAL MEDYA</span>
        </div>

        <p class="text-muted small col-md-6 mx-auto mb-4">
            VezirkÃ¶prÃ¼'nÃ¼n en gÃ¼ncel, en hÄ±zlÄ± ve en tarafsÄ±z dijital haber platformu.
        </p>

        <div class="d-flex justify-content-center gap-3 mb-4">
            <a href="https://www.facebook.com/ulucinardijitalmedya" class="btn btn-light btn-sm rounded-circle text-secondary shadow-sm"><i class="fab fa-facebook-f"></i></a>
            <a href="https://x.com/ulucinardijitalmedya" class="btn btn-light btn-sm rounded-circle text-secondary shadow-sm"><svg xmlns="http://www.w3.org/2000/svg" height="14" width="14" viewBox="0 0 512 512" fill="#6c757d">
        <path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/>
    </svg></a>
            <a href="https://www.instagram.com/ulucinardijitalmedya" class="btn btn-light btn-sm rounded-circle text-secondary shadow-sm"><i class="fab fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@ulucinardijitalmedya" class="btn btn-light btn-sm rounded-circle text-secondary shadow-sm"><i class="fa-brands fa-tiktok"></i></a>
            <a href="https://www.youtube.com/@ulucinardijitalmedya" class="btn btn-light btn-sm rounded-circle text-secondary shadow-sm"><i class="fab fa-youtube"></i></a>
        </div>

        <div class="border-top pt-4">
            <p class="small text-muted mb-0">
                &copy; 2026 Nerik Dijital Medya. TÃ¼m HaklarÄ± SaklÄ±dÄ±r.
            </p>
        </div>
    </div>
</footer>

<a href="https://wa.me/905xxxxxxxxx" class="whatsapp-float" target="_blank">
    <i class="fab fa-whatsapp fa-lg"></i>
    <span class="d-none d-md-inline ms-2">Ä°hbar HattÄ±</span>
</a>

============================================================
DOSYA YOLU: frontend\src\app\components\home\home.spec.ts
============================================================
import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Home } from './home';

describe('Home', () => {
  let component: Home;
  let fixture: ComponentFixture<Home>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Home]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Home);
    component = fixture.componentInstance;
    await fixture.whenStable();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});


============================================================
DOSYA YOLU: frontend\src\app\components\home\home.ts
============================================================
import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common'; // AsyncPipe bunun iÃ§inde
import { HttpClient } from '@angular/common/http';
import { NewsService } from '../../services/news';
import { Observable, map, catchError, of } from 'rxjs'; // Gerekli kÃ¼tÃ¼phaneler
import { RouterModule } from '@angular/router'; // RouterLink iÃ§in

@Component({
  selector: 'app-home',
  standalone: true,
  imports: [CommonModule, RouterModule],
  templateUrl: './home.html',
  styleUrls: ['./home.css']
})
export class HomeComponent implements OnInit {
  latestNews: any[] = [];
  sliderNews: any[] = [];
  breakingNews: string = '';
  baseUrl = 'http://localhost:3000';
  
  // HTML'in beklediÄŸi "weather$" yayÄ±nÄ± burada tanÄ±mlÄ±yoruz!
  weather$!: Observable<{ temp: string, icon: string }>;

  constructor(
    private newsService: NewsService,
    private http: HttpClient
  ) {}

  ngOnInit() {
    this.getNews();
    
    // URL (Cache sorunu olmasÄ±n diye sonuna zaman ekliyoruz)
    const url = `https://api.open-meteo.com/v1/forecast?latitude=41.1436&longitude=35.4552&current_weather=true&t=${Date.now()}`;

    // YayÄ±nÄ± baÅŸlatÄ±yoruz
    this.weather$ = this.http.get(url).pipe(
      map((res: any) => {
        // Veri geldiÄŸinde iÅŸle
        if (res && res.current_weather) {
          return {
            temp: Math.round(res.current_weather.temperature).toString(),
            icon: this.getWeatherIconClass(res.current_weather.weathercode)
          };
        }
        return { temp: '--', icon: 'fa-sun' }; // BoÅŸ gelirse
      }),
      catchError(err => {
        console.error('Hava durumu hatasÄ±:', err);
        return of({ temp: '!!', icon: 'fa-exclamation-triangle' }); // Hata olursa
      })
    );
  }

  getNews() {
    this.newsService.getAllNews().subscribe({
      next: (response) => {
        const news = response.news || [];
        this.sliderNews = news.filter((n: any) => n.is_slider);
        const breaking = news.find((n: any) => n.is_breaking);
        this.breakingNews = breaking ? breaking.title : 'VezirkÃ¶prÃ¼\'den en gÃ¼ncel haberler...';
        this.latestNews = news; 
      },
      error: (err) => console.error(err)
    });
  }

  getWeatherIconClass(code: number): string {
    if (code === 0) return 'fa-sun';
    if (code >= 1 && code <= 3) return 'fa-cloud-sun';
    if (code >= 45 && code <= 48) return 'fa-smog';
    if (code >= 51 && code <= 67) return 'fa-cloud-rain';
    if (code >= 71 && code <= 77) return 'fa-snowflake';
    if (code >= 80 && code <= 82) return 'fa-cloud-showers-heavy';
    if (code >= 95) return 'fa-bolt';
    return 'fa-cloud';
  }
}

============================================================
DOSYA YOLU: frontend\src\app\components\login\login.css
============================================================
.login-page {
    background-color: #1D3557; /* ArkadaÅŸÄ±nÄ±n seÃ§tiÄŸi renk */
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
}

.login-card {
    background: white;
    padding: 40px;
    border-radius: 15px;
    width: 100%;
    max-width: 400px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

input.form-control {
    padding: 12px;
    background-color: #f8f9fa;
    border: 2px solid transparent;
}

input.form-control:focus {
    border-color: #1D3557;
    box-shadow: none;
}

============================================================
DOSYA YOLU: frontend\src\app\components\login\login.html
============================================================
<div class="login-page">
    <div class="login-card shadow text-center">
        <h3 class="fw-bold mb-4">Nerik YÃ¶netici GiriÅŸi</h3>
        
        <div class="mb-3">
            <input type="text" [(ngModel)]="username" class="form-control" placeholder="KullanÄ±cÄ± AdÄ±">
        </div>

        <div class="mb-3">
            <input type="password" [(ngModel)]="password" class="form-control" placeholder="Åžifre">
        </div>

        <button (click)="onLogin()" class="btn btn-danger w-100 py-2 fw-bold">
            <i class="fa fa-sign-in me-2"></i> GiriÅŸ Yap
        </button>

        <div *ngIf="errorMessage" class="alert alert-danger mt-3 small">
            {{ errorMessage }}
        </div>
    </div>
</div>

============================================================
DOSYA YOLU: frontend\src\app\components\login\login.spec.ts
============================================================
import { ComponentFixture, TestBed } from '@angular/core/testing';

import { Login } from './login';

describe('Login', () => {
  let component: Login;
  let fixture: ComponentFixture<Login>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [Login]
    })
    .compileComponents();

    fixture = TestBed.createComponent(Login);
    component = fixture.componentInstance;
    await fixture.whenStable();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});


============================================================
DOSYA YOLU: frontend\src\app\components\login\login.ts
============================================================
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { AuthService } from '../../services/auth';
import { Router } from '@angular/router';

@Component({
  selector: 'app-login',
  standalone: true,
  imports: [CommonModule, FormsModule],
  templateUrl: './login.html',
  styleUrls: ['./login.css']
})
export class LoginComponent {
  username = '';
  password = '';
  errorMessage = '';

  constructor(private authService: AuthService, private router: Router) {}

  onLogin() {
    if(!this.username || !this.password) {
      this.errorMessage = "LÃ¼tfen tÃ¼m alanlarÄ± doldurun!";
      return;
    }

    const loginData = { username: this.username, password: this.password };

    this.authService.login(loginData).subscribe({
      next: (res) => {
        alert("GiriÅŸ BaÅŸarÄ±lÄ±: " + res.user.full_name);
        this.router.navigate(['/admin']); // GiriÅŸ yapÄ±nca anasayfaya at
      },
      error: (err) => {
        console.error(err);
        this.errorMessage = "KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±!";
      }
    });
  }
}

============================================================
DOSYA YOLU: frontend\src\app\components\news-detail\news-detail.css
============================================================
[DOSYA BOÅž]

============================================================
DOSYA YOLU: frontend\src\app\components\news-detail\news-detail.html
============================================================
<div class="container py-5">
    
    <div *ngIf="loading" class="text-center py-5">
        <div class="spinner-border text-primary" role="status"></div>
        <p class="mt-2 text-muted">Haber yÃ¼kleniyor...</p>
    </div>

    <div *ngIf="!loading && news" class="row justify-content-center fade-in">
        <div class="col-lg-9">
            
            <div class="d-flex align-items-center gap-3 mb-3">
                <span class="badge bg-primary px-3 py-2">{{ news.category_name || 'GÃ¼ndem' }}</span>
                <span class="text-muted small"><i class="far fa-clock me-1"></i> {{ news.created_at | date:'dd.MM.yyyy HH:mm' }}</span>
                <span class="text-muted small"><i class="far fa-eye me-1"></i> {{ news.view_count }} okuma</span>
            </div>

            <h1 class="fw-bold text-dark mb-4 display-6">{{ news.title }}</h1>

            <p class="lead fw-bold text-secondary mb-4">{{ news.summary }}</p>

            <div class="mb-5 rounded-4 overflow-hidden shadow-sm position-relative">
                <img *ngIf="news.image_path" [src]="baseUrl + news.image_path" class="w-100 object-fit-cover" style="max-height: 500px;" alt="{{ news.title }}">
            </div>

            <div class="news-content fs-5 text-dark lh-lg" [innerHTML]="safeContent"></div>

            <div class="mt-5 p-4 bg-light rounded-4 border border-light-subtle d-flex align-items-center gap-3">
                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center fs-4 fw-bold" style="width: 50px; height: 50px;">
                    {{ news.author_name?.charAt(0) || 'A' }}
                </div>
                <div>
                    <span class="d-block small text-muted text-uppercase fw-bold">Haber EditÃ¶rÃ¼</span>
                    <span class="fw-bold text-dark">{{ news.author_name || 'EditÃ¶r' }}</span>
                </div>
            </div>

        </div>
    </div>

    <div *ngIf="!loading && !news" class="text-center py-5">
        <h3 class="fw-bold text-secondary">Haber BulunamadÄ±</h3>
        <a routerLink="/" class="btn btn-primary mt-3">Anasayfaya DÃ¶n</a>
    </div>
</div>

============================================================
DOSYA YOLU: frontend\src\app\components\news-detail\news-detail.spec.ts
============================================================
import { ComponentFixture, TestBed } from '@angular/core/testing';

import { NewsDetail } from './news-detail';

describe('NewsDetail', () => {
  let component: NewsDetail;
  let fixture: ComponentFixture<NewsDetail>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [NewsDetail]
    })
    .compileComponents();

    fixture = TestBed.createComponent(NewsDetail);
    component = fixture.componentInstance;
    await fixture.whenStable();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});


============================================================
DOSYA YOLU: frontend\src\app\components\news-detail\news-detail.ts
============================================================
import { Component, OnInit, ChangeDetectorRef } from '@angular/core'; // ChangeDetectorRef eklendi
import { CommonModule } from '@angular/common';
import { ActivatedRoute, RouterModule } from '@angular/router';
import { NewsService } from '../../services/news';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

@Component({
  selector: 'app-news-detail',
  standalone: true,
  imports: [CommonModule, RouterModule],
  templateUrl: './news-detail.html',
  styleUrls: ['./news-detail.css']
})
export class NewsDetailComponent implements OnInit {
  news: any = null;
  safeContent: SafeHtml = ''; 
  baseUrl = 'http://localhost:3000';
  loading = true; // BaÅŸlangÄ±Ã§ta yÃ¼kleniyor

  constructor(
    private route: ActivatedRoute,
    private newsService: NewsService,
    private sanitizer: DomSanitizer,
    private cdr: ChangeDetectorRef // Dedektif iÅŸ baÅŸÄ±nda
  ) {}

  ngOnInit() {
    this.route.paramMap.subscribe(params => {
      const slug = params.get('slug');
      console.log("ðŸ”— URL'den gelen slug:", slug); // Konsolda bunu gÃ¶r
      
      if (slug) {
        this.loadNews(slug);
      } else {
        this.loading = false;
        this.cdr.detectChanges();
      }
    });
  }

  loadNews(slug: string) {
    this.loading = true;
    
    this.newsService.getNewsBySlug(slug).subscribe({
      next: (data) => {
        console.log("âœ… Haber Sunucudan Geldi:", data);
        this.news = data;
        
        // HTML Ä°Ã§eriÄŸini temizle/gÃ¼venli yap
        if (this.news.content) {
             this.safeContent = this.sanitizer.bypassSecurityTrustHtml(this.news.content);
        }

        this.loading = false; // YÃ¼kleme bitti
        this.cdr.detectChanges(); // âš¡ EKRANI ZORLA YENÄ°LE
      },
      error: (err) => {
        console.error('âŒ Haber Ã‡ekme HatasÄ±:', err);
        this.loading = false; // Hata olsa bile yÃ¼klemeyi bitir
        this.cdr.detectChanges(); // âš¡ EKRANI ZORLA YENÄ°LE
      }
    });
  }
}

============================================================
DOSYA YOLU: frontend\src\app\guards\auth-guard.spec.ts
============================================================
import { TestBed } from '@angular/core/testing';
import { CanActivateFn } from '@angular/router';

import { authGuard } from './auth-guard';

describe('authGuard', () => {
  const executeGuard: CanActivateFn = (...guardParameters) => 
      TestBed.runInInjectionContext(() => authGuard(...guardParameters));

  beforeEach(() => {
    TestBed.configureTestingModule({});
  });

  it('should be created', () => {
    expect(executeGuard).toBeTruthy();
  });
});


============================================================
DOSYA YOLU: frontend\src\app\guards\auth-guard.ts
============================================================
import { inject } from '@angular/core';
import { Router, CanActivateFn } from '@angular/router';

export const authGuard: CanActivateFn = () => {
  const router = inject(Router);
  
  // TarayÄ±cÄ± tarafÄ±ndaysak (SSR hatasÄ± almamak iÃ§in) kontrol et
  if (typeof window !== 'undefined') {
    const token = localStorage.getItem('token');
    
    if (token) {
      return true; // Token varsa admin paneline girebilir
    }
  }

  // Token yoksa kullanÄ±cÄ±yÄ± login sayfasÄ±na fÄ±rlat
  router.navigate(['/login']);
  return false;
};

============================================================
DOSYA YOLU: frontend\src\app\services\auth.spec.ts
============================================================
import { TestBed } from '@angular/core/testing';

import { Auth } from './auth';

describe('Auth', () => {
  let service: Auth;

  beforeEach(() => {
    TestBed.configureTestingModule({});
    service = TestBed.inject(Auth);
  });

  it('should be created', () => {
    expect(service).toBeTruthy();
  });
});


============================================================
DOSYA YOLU: frontend\src\app\services\auth.ts
============================================================
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { BehaviorSubject, tap } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class AuthService {
  private apiUrl = 'http://localhost:3000/api/auth';
  private isLoggedInSubject = new BehaviorSubject<boolean>(false);
  isLoggedIn$ = this.isLoggedInSubject.asObservable();

  constructor(private http: HttpClient) { 
    const token = localStorage.getItem('token');
    if(token) this.isLoggedInSubject.next(true);
  }

  login(data: any) {
    // API adresi: http://localhost:3000/api/auth/login
    return this.http.post<any>(`${this.apiUrl}/login`, data).pipe(
      tap(response => {
        // Token'Ä± kaydet
        localStorage.setItem('token', response.token);
        // KullanÄ±cÄ± bilgisini kaydet
        localStorage.setItem('user', JSON.stringify(response.user));
        // GiriÅŸ yapÄ±ldÄ± bilgisini yay
        this.isLoggedInSubject.next(true);
      })
    );
  }

  logout() {
    localStorage.removeItem('token');
    localStorage.removeItem('user');
    this.isLoggedInSubject.next(false);
  }

  getToken() {
    return localStorage.getItem('token');
  }

  getCurrentUser() {
    const user = localStorage.getItem('user');
    // JSON formatÄ±ndaki veriyi nesneye Ã§evirip geri dÃ¶ndÃ¼rÃ¼yoruz
    return user ? JSON.parse(user) : null;
  }
}

============================================================
DOSYA YOLU: frontend\src\app\services\news.spec.ts
============================================================
import { TestBed } from '@angular/core/testing';

import { News } from './news';

describe('News', () => {
  let service: News;

  beforeEach(() => {
    TestBed.configureTestingModule({});
    service = TestBed.inject(News);
  });

  it('should be created', () => {
    expect(service).toBeTruthy();
  });
});


============================================================
DOSYA YOLU: frontend\src\app\services\news.ts
============================================================
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class NewsService {
  private apiUrl = 'http://localhost:3000/api/news'; // Backend adresi

  constructor(private http: HttpClient) { }

  // TÃ¼m haberleri getirir
  getAllNews(page: number = 1): Observable<any> {
    return this.http.get<any>(`${this.apiUrl}?page=${page}`);
  }

  // Tek bir haberin detayÄ±nÄ± getirir (Ä°leride lazÄ±m olacak)
  getNewsBySlug(slug: string): Observable<any> {
    return this.http.get<any>(`${this.apiUrl}/${slug}`);
  }
}
